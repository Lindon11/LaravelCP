import{c as x,w as g,u as w,r as h,o as m,a as t,j as k,k as i,v as u,h as b,t as c,l as f,b as C,d as V,f as A,g as d}from"./index-nKqG-Kr3.js";import{I as _}from"./InstallerLayout-SWwvShqh.js";const B={class:"p-12"},U={key:0,class:"bg-red-500/20 border border-red-500 rounded-lg p-4"},q={class:"text-red-300"},N={key:1,class:"bg-green-500/20 border border-green-500 rounded-lg p-4"},M={class:"text-green-300"},P={class:"flex justify-between pt-6"},T=["disabled"],F={__name:"Admin",setup(j){const v=w(),s=d({username:"",email:"",password:"",password_confirmation:""}),r=d(!1),l=d(""),a=d(""),y=async()=>{var p,e;if(s.value.password!==s.value.password_confirmation){l.value="Passwords do not match";return}r.value=!0,l.value="",a.value="";try{const n=await A.post("/install/setup-admin",s.value);a.value="Admin account created successfully!",setTimeout(()=>{v.push("/install/install")},1e3)}catch(n){l.value=((e=(p=n.response)==null?void 0:p.data)==null?void 0:e.message)||"Failed to create admin account"}finally{r.value=!1}};return(p,e)=>{const n=h("router-link");return m(),x(_,{"current-step":"admin"},{default:g(()=>[t("div",B,[e[10]||(e[10]=t("h2",{class:"text-3xl font-bold text-white mb-6"},"Create Admin Account",-1)),e[11]||(e[11]=t("p",{class:"text-gray-300 mb-8"}," Create your administrator account to manage the game. ",-1)),t("form",{onSubmit:k(y,["prevent"]),class:"space-y-6"},[t("div",null,[e[4]||(e[4]=t("label",{class:"block text-sm font-semibold text-gray-300 mb-2"},"Username",-1)),i(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>s.value.username=o),type:"text",required:"",minlength:"3",maxlength:"50",class:"w-full px-4 py-3 bg-white/10 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"admin"},null,512),[[u,s.value.username]])]),t("div",null,[e[5]||(e[5]=t("label",{class:"block text-sm font-semibold text-gray-300 mb-2"},"Email Address",-1)),i(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>s.value.email=o),type:"email",required:"",class:"w-full px-4 py-3 bg-white/10 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"admin@example.com"},null,512),[[u,s.value.email]])]),t("div",null,[e[6]||(e[6]=t("label",{class:"block text-sm font-semibold text-gray-300 mb-2"},"Password",-1)),i(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>s.value.password=o),type:"password",required:"",minlength:"8",class:"w-full px-4 py-3 bg-white/10 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"••••••••"},null,512),[[u,s.value.password]]),e[7]||(e[7]=t("p",{class:"text-gray-400 text-sm mt-1"},"Minimum 8 characters",-1))]),t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-semibold text-gray-300 mb-2"},"Confirm Password",-1)),i(t("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>s.value.password_confirmation=o),type:"password",required:"",minlength:"8",class:"w-full px-4 py-3 bg-white/10 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"••••••••"},null,512),[[u,s.value.password_confirmation]])]),l.value?(m(),b("div",U,[t("p",q,c(l.value),1)])):f("",!0),a.value?(m(),b("div",N,[t("p",M,c(a.value),1)])):f("",!0),t("div",P,[C(n,{to:"/install/settings",class:"bg-gray-600 hover:bg-gray-700 text-white font-semibold px-6 py-3 rounded-lg transition"},{default:g(()=>[...e[9]||(e[9]=[V(" ← Back ",-1)])]),_:1}),t("button",{type:"submit",disabled:r.value,class:"bg-purple-600 hover:bg-purple-700 disabled:bg-gray-600 text-white font-semibold px-6 py-3 rounded-lg transition"},c(r.value?"Creating Account...":"Create Account →"),9,T)])],32)])]),_:1})}}};export{F as default};
