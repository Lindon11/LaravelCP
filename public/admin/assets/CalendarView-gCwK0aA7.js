import{_ as te,e as ae,h as o,a as e,t as m,d as E,F as _,i as k,j as V,k as p,v as h,m as se,l as S,g as f,q as U,s as le,o as i,n as ne,x as F}from"./index-DK4wXaNM.js";const oe={class:"calendar-view"},ie={class:"calendar-header"},de={class:"calendar-title"},re={class:"month-nav"},ue={class:"current-month"},ce={class:"header-actions"},ve={class:"calendar-grid"},me=["onClick"],ge={class:"day-number"},pe={class:"day-events"},fe=["onClick"],ye={key:0,class:"more-events"},be={class:"modal"},he={class:"modal-header"},De={class:"modal-body"},Te={class:"form-group"},we={class:"form-group"},_e={class:"form-row"},ke={class:"form-group"},Ce={class:"form-group"},Se={class:"form-group"},Me=["value"],Ee={class:"modal-footer"},Ve={class:"modal modal-wide"},Ne={class:"modal-header"},Oe={class:"modal-body"},xe={class:"tags-list"},Ie=["onUpdate:modelValue"],Ue=["onUpdate:modelValue"],Fe=["onClick"],$e={__name:"CalendarView",setup(Le){const y=le(),r=f(new Date),b=f([]),d=f([]),C=f(!1),D=f(!1),c=f(null),l=f({title:"",description:"",date:"",time:"",tag:null}),$=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],L=U(()=>r.value.toLocaleDateString("en-US",{month:"long",year:"numeric"})),Y=U(()=>{const s=r.value.getFullYear(),t=r.value.getMonth(),a=new Date(s,t,1),v=new Date(s,t+1,0),g=new Date(s,t,0),O=a.getDay(),Q=v.getDate(),x=g.getDate(),w=[],I=new Date;I.setHours(0,0,0,0);for(let n=O-1;n>=0;n--){const u=new Date(s,t-1,x-n);w.push({dayNumber:x-n,date:u.toISOString().split("T")[0],isCurrentMonth:!1,isToday:!1,events:M(u)})}for(let n=1;n<=Q;n++){const u=new Date(s,t,n),Z=u.toISOString().split("T")[0],ee=u.getTime()===I.getTime();w.push({dayNumber:n,date:Z,isCurrentMonth:!0,isToday:ee,events:M(u)})}const X=42-w.length;for(let n=1;n<=X;n++){const u=new Date(s,t+1,n);w.push({dayNumber:n,date:u.toISOString().split("T")[0],isCurrentMonth:!1,isToday:!1,events:M(u)})}return w}),M=s=>{const t=s.toISOString().split("T")[0];return b.value.filter(a=>a.date===t)},q=()=>{r.value=new Date(r.value.getFullYear(),r.value.getMonth()-1,1)},B=()=>{r.value=new Date(r.value.getFullYear(),r.value.getMonth()+1,1)},W=()=>{r.value=new Date},j=s=>{l.value.date=s.date,N()},N=()=>{c.value=null,l.value={title:"",description:"",date:l.value.date||new Date().toISOString().split("T")[0],time:"",tag:d.value.length>0?d.value[0].id:null},C.value=!0},z=s=>{c.value=s,l.value={...s},C.value=!0},T=()=>{C.value=!1,c.value=null},A=()=>{if(!l.value.title||!l.value.date){y.error("Title and date are required");return}c.value?(Object.assign(c.value,l.value),y.success("Event updated!")):(b.value.push({id:Date.now(),...l.value}),y.success("Event created!")),T()},J=()=>{b.value=b.value.filter(s=>s.id!==c.value.id),y.success("Event deleted!"),T()},H=s=>{const t=d.value.find(a=>a.id===s);return t?t.color:"#3b82f6"},P=()=>{const s={id:Date.now(),name:"New Tag",color:"#3b82f6"};d.value.push(s)},R=s=>{if(d.value.length===1){y.error("You must have at least one tag");return}d.value=d.value.filter(t=>t.id!==s),b.value.forEach(t=>{t.tag===s&&(t.tag=d.value[0].id)})},G=()=>{localStorage.setItem("calendar_tags",JSON.stringify(d.value)),D.value=!1,y.success("Tags saved!")},K=()=>{const s=localStorage.getItem("calendar_tags");s?d.value=JSON.parse(s):d.value=[{id:1,name:"Meeting",color:"#3b82f6"},{id:2,name:"Deadline",color:"#ef4444"},{id:3,name:"Event",color:"#10b981"},{id:4,name:"Reminder",color:"#f59e0b"}]};return ae(()=>{K(),b.value=[{id:1,title:"Team Meeting",description:"Weekly sync",date:new Date().toISOString().split("T")[0],time:"10:00",tag:1},{id:2,title:"Product Launch",description:"Version 2.0",date:new Date(Date.now()+864e5*3).toISOString().split("T")[0],time:"14:00",tag:3},{id:3,title:"Server Maintenance",description:"Scheduled downtime",date:new Date(Date.now()+864e5*7).toISOString().split("T")[0],time:"22:00",tag:4}]}),(s,t)=>(i(),o("div",oe,[e("div",ie,[e("div",de,[t[8]||(t[8]=e("h1",null,"ğŸ“… Calendar",-1)),e("div",re,[e("button",{onClick:q,class:"btn-nav"},"â€¹"),e("span",ue,m(L.value),1),e("button",{onClick:B,class:"btn-nav"},"â€º"),e("button",{onClick:W,class:"btn-today"},"Today")])]),e("div",ce,[e("button",{onClick:t[0]||(t[0]=a=>D.value=!0),class:"btn-secondary"},[...t[9]||(t[9]=[e("span",null,"ğŸ·ï¸",-1),E(" Manage Tags ",-1)])]),e("button",{onClick:N,class:"btn-primary"},[...t[10]||(t[10]=[e("span",null,"â•",-1),E(" Add Event ",-1)])])])]),e("div",ve,[(i(),o(_,null,k($,a=>e("div",{class:"weekday-header",key:a},m(a),1)),64)),(i(!0),o(_,null,k(Y.value,(a,v)=>(i(),o("div",{key:v,class:ne(["calendar-day",{"other-month":!a.isCurrentMonth,today:a.isToday,"has-events":a.events.length>0}]),onClick:g=>j(a)},[e("div",ge,m(a.dayNumber),1),e("div",pe,[(i(!0),o(_,null,k(a.events.slice(0,3),g=>(i(),o("div",{key:g.id,class:"event-chip",style:F({backgroundColor:H(g.tag),color:"#ffffff"}),onClick:V(O=>z(g),["stop"])},m(g.title),13,fe))),128)),a.events.length>3?(i(),o("div",ye," +"+m(a.events.length-3)+" more ",1)):S("",!0)])],10,me))),128))]),C.value?(i(),o("div",{key:0,class:"modal-overlay",onClick:V(T,["self"])},[e("div",be,[e("div",he,[e("h2",null,m(c.value?"Edit Event":"New Event"),1),e("button",{onClick:T,class:"close-btn"},"Ã—")]),e("div",De,[e("div",Te,[t[11]||(t[11]=e("label",null,"Event Title",-1)),p(e("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>l.value.title=a),type:"text",required:""},null,512),[[h,l.value.title]])]),e("div",we,[t[12]||(t[12]=e("label",null,"Description",-1)),p(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=a=>l.value.description=a),rows:"3"},null,512),[[h,l.value.description]])]),e("div",_e,[e("div",ke,[t[13]||(t[13]=e("label",null,"Date",-1)),p(e("input",{"onUpdate:modelValue":t[3]||(t[3]=a=>l.value.date=a),type:"date",required:""},null,512),[[h,l.value.date]])]),e("div",Ce,[t[14]||(t[14]=e("label",null,"Time",-1)),p(e("input",{"onUpdate:modelValue":t[4]||(t[4]=a=>l.value.time=a),type:"time"},null,512),[[h,l.value.time]])])]),e("div",Se,[t[15]||(t[15]=e("label",null,"Tag",-1)),p(e("select",{"onUpdate:modelValue":t[5]||(t[5]=a=>l.value.tag=a)},[(i(!0),o(_,null,k(d.value,a=>(i(),o("option",{key:a.id,value:a.id},m(a.name),9,Me))),128))],512),[[se,l.value.tag]])])]),e("div",Ee,[c.value?(i(),o("button",{key:0,onClick:J,class:"btn-danger"},"Delete")):S("",!0),e("button",{onClick:T,class:"btn-secondary-modal"},"Cancel"),e("button",{onClick:A,class:"btn-primary"},"Save")])])])):S("",!0),D.value?(i(),o("div",{key:1,class:"modal-overlay",onClick:t[7]||(t[7]=V(a=>D.value=!1,["self"]))},[e("div",Ve,[e("div",Ne,[t[16]||(t[16]=e("h2",null,"Manage Tags",-1)),e("button",{onClick:t[6]||(t[6]=a=>D.value=!1),class:"close-btn"},"Ã—")]),e("div",Oe,[e("div",xe,[(i(!0),o(_,null,k(d.value,a=>(i(),o("div",{key:a.id,class:"tag-item"},[p(e("input",{"onUpdate:modelValue":v=>a.name=v,type:"text",class:"tag-name-input",placeholder:"Tag name"},null,8,Ie),[[h,a.name]]),p(e("input",{"onUpdate:modelValue":v=>a.color=v,type:"color",class:"tag-color-input"},null,8,Ue),[[h,a.color]]),e("div",{class:"tag-preview",style:F({backgroundColor:a.color})},m(a.name),5),e("button",{onClick:v=>R(a.id),class:"btn-delete-tag"},"ğŸ—‘ï¸",8,Fe)]))),128))]),e("button",{onClick:P,class:"btn-add-tag"},[...t[17]||(t[17]=[e("span",null,"â•",-1),E(" Add New Tag ",-1)])])]),e("div",{class:"modal-footer"},[e("button",{onClick:G,class:"btn-primary"},"Done")])])])):S("",!0)]))}},qe=te($e,[["__scopeId","data-v-e0bc6eb3"]]);export{qe as default};
