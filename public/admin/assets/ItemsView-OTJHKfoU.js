import{h as r,a as e,o as a,_ as Ie,G as $e,e as Te,x as h,n as V,b as m,z as c,d as U,t as d,F as k,i as C,H as Ve,k as i,v as g,s as Ue,l as I,c as M,D as ie,j as W,m as L,Z as X,S as Q,C as Me,E as Y,U as ue,a6 as Se,ab as je,M as Le,a5 as Be,ac as Ee,ad as Fe,a3 as Ne,ae as De,af as Pe,X as qe,W as ze,L as Ae,ag as Re,P as He,K as Ze,g as u,q as Ke,y as Oe}from"./index-SfCwTISH.js";import{r as S}from"./CubeIcon-DMHz_zO5.js";import{r as J}from"./PlusIcon-BbeBHcel.js";import{r as ce}from"./PencilIcon-5ZEXjFsL.js";import{r as Ge}from"./CpuChipIcon-Dt_sTDVV.js";import{r as We}from"./CheckCircleIcon-DrMjPW0T.js";import{r as Xe}from"./XCircleIcon-oex1BQA-.js";function Qe(ee,x){return a(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"})])}function Ye(ee,x){return a(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m9 9 10.5-3m0 6.553v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 1 1-.99-3.467l2.31-.66a2.25 2.25 0 0 0 1.632-2.163Zm0 0V2.25L9 5.25v10.303m0 0v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 0 1-.99-3.467l2.31-.66A2.25 2.25 0 0 0 9 15.553Z"})])}const Je={class:"space-y-6"},et={class:"flex flex-wrap gap-2"},tt=["onClick","onContextmenu"],lt={class:"flex items-center justify-between gap-4"},st={class:"relative flex-1 max-w-md"},at={key:0,class:"rounded-2xl bg-slate-800/50 backdrop-blur border border-slate-700/50 p-6"},ot={key:1,class:"rounded-2xl bg-slate-800/50 backdrop-blur border border-slate-700/50 overflow-hidden"},rt={class:"overflow-x-auto"},nt={class:"w-full"},dt={class:"divide-y divide-slate-700/50"},it={class:"px-6 py-4"},ut={class:"flex items-center gap-3"},ct={class:"w-12 h-12 rounded-lg bg-slate-700/50 border border-slate-600/50 flex items-center justify-center overflow-hidden"},pt=["src","alt"],mt={class:"text-sm font-medium text-white"},vt={class:"text-xs text-slate-400 truncate max-w-[200px]"},bt={class:"px-6 py-4"},xt={class:"px-6 py-4 text-sm text-emerald-400 font-medium"},ft={class:"px-6 py-4 text-sm text-slate-300"},gt={class:"px-6 py-4"},yt={key:0,class:"inline-flex items-center gap-1 text-emerald-400"},ht={key:1,class:"inline-flex items-center gap-1 text-slate-500"},wt={class:"px-6 py-4"},_t={key:0,class:"text-xs text-slate-300"},kt={key:1,class:"text-slate-500"},Ct={class:"px-6 py-4"},It={class:"flex items-center justify-center gap-2"},$t=["onClick"],Tt=["onClick"],Vt={key:0},Ut={colspan:"7",class:"px-6 py-12 text-center text-slate-400"},Mt={key:0,class:"px-6 py-4 border-t border-slate-700/50 flex items-center justify-between"},St={class:"text-sm text-slate-400"},jt={class:"flex items-center gap-2"},Lt=["disabled"],Bt=["disabled"],Et={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},Ft={class:"flex items-center justify-center min-h-screen p-4"},Nt={class:"relative bg-slate-800 border border-slate-700 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"},Dt={class:"sticky top-0 bg-slate-800 border-b border-slate-700 p-6 flex items-center justify-between"},Pt={class:"text-xl font-bold text-white"},qt={class:"form-grid"},zt={class:"form-group full-width"},At={class:"form-group full-width"},Rt={class:"form-group"},Ht=["value"],Zt={class:"form-group"},Kt=["value"],Ot={class:"form-group"},Gt={class:"form-group"},Wt={class:"form-group"},Xt={class:"form-group"},Qt={class:"form-group"},Yt={class:"checkbox-wrapper"},Jt={class:"form-group"},el={class:"checkbox-wrapper"},tl={class:"form-group"},ll={class:"checkbox-wrapper"},sl={key:0,class:"mt-6 pt-6 border-t border-slate-700"},al={class:"flex items-center justify-between mb-4"},ol={class:"space-y-3"},rl={class:"flex-1 grid grid-cols-1 sm:grid-cols-4 gap-3"},nl=["onUpdate:modelValue"],dl=["value"],il=["onUpdate:modelValue"],ul=["onUpdate:modelValue"],cl=["value"],pl={class:"flex items-end"},ml=["onClick"],vl={key:0,class:"text-slate-500 text-sm text-center py-4"},bl={class:"grid grid-cols-2 gap-4 mt-4"},xl={class:"form-group"},fl={class:"form-group"},gl={class:"flex justify-end gap-3 mt-6 pt-6 border-t border-slate-700"},yl=["disabled"],hl={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},wl={class:"flex items-center justify-center min-h-screen p-4"},_l={class:"relative bg-slate-800 border border-slate-700 rounded-2xl shadow-2xl max-w-md w-full"},kl={class:"border-b border-slate-700 p-6 flex items-center justify-between"},Cl={class:"text-xl font-bold text-white"},Il={class:"form-group"},$l=["disabled"],Tl={class:"form-group"},Vl={class:"form-group"},Ul=["value"],Ml={class:"mt-2 flex items-center gap-2 text-slate-400"},Sl={class:"form-group"},jl={class:"flex justify-end gap-3 pt-4 border-t border-slate-700"},Ll=["disabled"],Bl={__name:"ItemsView",setup(ee){const x=Oe(),A=u([]),te=u([]),le=u([]),R={CubeIcon:S,SparklesIcon:Ze,ShieldCheckIcon:He,BeakerIcon:Re,TrophyIcon:Ae,ArchiveBoxIcon:Qe,BoltIcon:ze,FireIcon:qe,HeartIcon:Pe,StarIcon:De,WrenchScrewdriverIcon:Ne,TruckIcon:Fe,GiftIcon:Ee,KeyIcon:Be,MapPinIcon:Le,MusicalNoteIcon:Ye,BookOpenIcon:je,CommandLineIcon:Se,CpuChipIcon:Ge},T=u([]),se=u(!1),p=u("all"),H=u([]),B=u([]),Z=u(!1),j=u(""),E=u(!1),$=u(null),F=u(!1),v=u(null),K=u(1),O={name:"",type:"misc",description:"",image:"",price:0,sell_price:0,tradeable:!0,stackable:!1,max_stack:1,rarity:"common",is_usable:!1,effects:[],cooldown:0,duration:0},o=u({...O}),N=u(!1),_=u(null),D=u(!1),f=u({name:"",label:"",icon:"CubeIcon",sort_order:0}),w=u({show:!1,x:0,y:0,type:null}),G=async()=>{se.value=!0;try{const s=await h.get("/admin/item-types");T.value=s.data}catch(s){console.error("Failed to load item types",s),T.value=[]}finally{se.value=!1}},pe=()=>{_.value=null,f.value={name:"",label:"",icon:"CubeIcon",sort_order:T.value.length+1},N.value=!0},P=()=>{N.value=!1,_.value=null},me=async()=>{var s,t;D.value=!0;try{_.value?(await h.patch(`/admin/item-types/${_.value.id}`,f.value),x.success("Item type updated!")):(await h.post("/admin/item-types",f.value),x.success("Item type created!")),P(),await G()}catch(n){x.error(((t=(s=n.response)==null?void 0:s.data)==null?void 0:t.message)||"Failed to save item type")}finally{D.value=!1}},ve=(s,t)=>{w.value={show:!0,x:s.clientX,y:s.clientY,type:t}},be=()=>{const s=w.value.type;w.value.show=!1,_.value=s,f.value={name:s.name,label:s.label,icon:s.icon||"CubeIcon",sort_order:s.sort_order},N.value=!0},xe=async()=>{var t,n;const s=w.value.type;if(w.value.show=!1,!!confirm(`Delete item type "${s.label}"? Items using this type will NOT be deleted, but they'll have an orphaned type.`))try{await h.delete(`/admin/item-types/${s.id}`),x.success("Item type deleted!"),p.value===s.name&&(p.value="all"),await G()}catch(l){x.error(((n=(t=l.response)==null?void 0:t.data)==null?void 0:n.message)||"Failed to delete item type")}},fe=()=>{o.value.effects||(o.value.effects=[]),o.value.effects.push({name:"heal",value:0,modifier_type:"flat"})},ge=s=>{o.value.effects.splice(s,1)},ae=Ke(()=>{let s=H.value;if(p.value!=="all"&&(s=s.filter(t=>t.type===p.value)),j.value){const t=j.value.toLowerCase();s=s.filter(n=>n.name.toLowerCase().includes(t)||n.description&&n.description.toLowerCase().includes(t))}return s}),oe=s=>s==="all"?B.value.length:B.value.filter(t=>t.type===s).length,q=async(s=1)=>{Z.value=!0;try{const t={page:s,per_page:100},n=await h.get("/admin/items",{params:t});n.data.data?(H.value=n.data.data,B.value=n.data.data,v.value={current_page:n.data.current_page,last_page:n.data.last_page,total:n.data.total,per_page:n.data.per_page||100}):(H.value=n.data,B.value=n.data)}catch(t){x.error("Failed to load items"),console.error(t)}finally{Z.value=!1}};let re=null;const ye=()=>{clearTimeout(re),re=setTimeout(()=>{},300)},he=()=>{var t;$.value=null;const s=p.value!=="all"?p.value:((t=T.value[0])==null?void 0:t.name)||"misc";o.value={...O,type:s},E.value=!0},we=s=>{$.value=s,o.value={...s,effects:s.effects||[],is_usable:s.is_usable||!1,cooldown:s.cooldown||0,duration:s.duration||0},E.value=!0},z=()=>{E.value=!1,$.value=null,o.value={...O}},_e=async()=>{var s,t;F.value=!0;try{$.value?(await h.patch(`/admin/items/${$.value.id}`,o.value),x.success("Item updated successfully!")):(await h.post("/admin/items",o.value),x.success("Item created successfully!")),z(),q(K.value)}catch(n){x.error(((t=(s=n.response)==null?void 0:s.data)==null?void 0:t.message)||"Failed to save item")}finally{F.value=!1}},ke=async s=>{var t,n;if(confirm(`Are you sure you want to delete "${s.name}"? This cannot be undone.`))try{await h.delete(`/admin/items/${s.id}`),x.success("Item deleted successfully!"),q(K.value)}catch(l){x.error(((n=(t=l.response)==null?void 0:t.data)==null?void 0:n.message)||"Failed to delete item")}},ne=s=>{K.value=s,q(s)},de=s=>(s==null?void 0:s.toLocaleString())||"0",Ce=s=>{const t={slate:"bg-slate-500/20 text-slate-300",emerald:"bg-emerald-500/20 text-emerald-400",blue:"bg-blue-500/20 text-blue-400",purple:"bg-purple-500/20 text-purple-400",amber:"bg-amber-500/20 text-amber-400",red:"bg-red-500/20 text-red-400",green:"bg-green-500/20 text-green-400",cyan:"bg-cyan-500/20 text-cyan-400",pink:"bg-pink-500/20 text-pink-400",orange:"bg-orange-500/20 text-orange-400"},n=A.value.find(l=>l.name===s);return t[n==null?void 0:n.color]||t.slate};return $e(p,()=>{j.value=""}),Te(async()=>{try{const[s,t,n]=await Promise.all([h.get("/admin/item-rarities"),h.get("/admin/item-effect-types"),h.get("/admin/item-modifier-types")]);A.value=s.data,te.value=t.data,le.value=n.data}catch{}G(),q()}),(s,t)=>{var n;return a(),r("div",Je,[e("div",et,[e("button",{onClick:t[0]||(t[0]=l=>p.value="all"),class:V(["px-4 py-2.5 rounded-xl font-medium transition-all flex items-center gap-2",p.value==="all"?"bg-gradient-to-r from-amber-500 to-orange-600 text-white shadow-lg shadow-amber-500/25":"bg-slate-800/50 text-slate-300 hover:bg-slate-700/50 border border-slate-700/50"])},[m(c(S),{class:"w-5 h-5"}),t[22]||(t[22]=U(" All Items ",-1)),e("span",{class:V(["px-2 py-0.5 rounded-full text-xs font-semibold",p.value==="all"?"bg-white/20":"bg-slate-700"])},d(oe("all")),3)],2),(a(!0),r(k,null,C(T.value,l=>(a(),r("button",{key:l.name,onClick:y=>p.value=l.name,onContextmenu:W(y=>ve(y,l),["prevent"]),class:V(["px-4 py-2.5 rounded-xl font-medium transition-all flex items-center gap-2 group",p.value===l.name?"bg-gradient-to-r from-amber-500 to-orange-600 text-white shadow-lg shadow-amber-500/25":"bg-slate-800/50 text-slate-300 hover:bg-slate-700/50 border border-slate-700/50"])},[(a(),M(ue(R[l.icon]||c(S)),{class:"w-5 h-5"})),U(" "+d(l.label)+" ",1),e("span",{class:V(["px-2 py-0.5 rounded-full text-xs font-semibold",p.value===l.name?"bg-white/20":"bg-slate-700"])},d(oe(l.name)),3)],42,tt))),128)),e("button",{onClick:pe,class:"px-3 py-2.5 rounded-xl font-medium transition-all flex items-center gap-1 bg-slate-800/50 text-slate-400 hover:text-emerald-400 hover:bg-emerald-500/10 border border-dashed border-slate-600/50 hover:border-emerald-500/50",title:"Create new item type"},[m(c(J),{class:"w-5 h-5"})])]),e("div",lt,[e("div",st,[m(c(Ve),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),i(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>j.value=l),onInput:ye,type:"text",placeholder:"Search items...",class:"w-full pl-10 pr-4 py-3 bg-slate-800/50 border border-slate-700/50 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500/50 transition-all"},null,544),[[g,j.value]])]),e("button",{onClick:he,class:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-gradient-to-r from-amber-500 to-orange-600 text-white font-medium hover:from-amber-600 hover:to-orange-700 transition-all shadow-lg shadow-amber-500/25"},[m(c(J),{class:"w-5 h-5"}),t[23]||(t[23]=U(" Create Item ",-1))])]),Z.value?(a(),r("div",at,[...t[24]||(t[24]=[Ue('<div class="animate-pulse space-y-4" data-v-0b7c37fa><div class="h-10 bg-slate-700/50 rounded-lg w-full" data-v-0b7c37fa></div><div class="h-16 bg-slate-700/50 rounded-lg w-full" data-v-0b7c37fa></div><div class="h-16 bg-slate-700/50 rounded-lg w-full" data-v-0b7c37fa></div><div class="h-16 bg-slate-700/50 rounded-lg w-full" data-v-0b7c37fa></div></div>',1)])])):(a(),r("div",ot,[e("div",rt,[e("table",nt,[t[25]||(t[25]=e("thead",{class:"bg-slate-700/50 border-b border-slate-600/50"},[e("tr",null,[e("th",{class:"px-6 py-4 text-left text-sm font-semibold text-slate-300"},"Item"),e("th",{class:"px-6 py-4 text-left text-sm font-semibold text-slate-300"},"Rarity"),e("th",{class:"px-6 py-4 text-left text-sm font-semibold text-slate-300"},"Price"),e("th",{class:"px-6 py-4 text-left text-sm font-semibold text-slate-300"},"Sell Price"),e("th",{class:"px-6 py-4 text-left text-sm font-semibold text-slate-300"},"Tradeable"),e("th",{class:"px-6 py-4 text-left text-sm font-semibold text-slate-300"},"Stackable"),e("th",{class:"px-6 py-4 text-center text-sm font-semibold text-slate-300"},"Actions")])],-1)),e("tbody",dt,[(a(!0),r(k,null,C(ae.value,l=>(a(),r("tr",{key:l.id,class:"hover:bg-slate-700/25 transition-colors"},[e("td",it,[e("div",ut,[e("div",ct,[l.image?(a(),r("img",{key:0,src:l.image,alt:l.name,class:"w-full h-full object-cover"},null,8,pt)):(a(),M(c(S),{key:1,class:"w-6 h-6 text-slate-500"}))]),e("div",null,[e("p",mt,d(l.name),1),e("p",vt,d(l.description),1)])])]),e("td",bt,[e("span",{class:V([Ce(l.rarity),"px-2.5 py-1 rounded-lg text-xs font-semibold capitalize"])},d(l.rarity),3)]),e("td",xt,"$"+d(de(l.price)),1),e("td",ft,"$"+d(de(l.sell_price||0)),1),e("td",gt,[l.tradeable?(a(),r("span",yt,[m(c(We),{class:"w-5 h-5"})])):(a(),r("span",ht,[m(c(Xe),{class:"w-5 h-5"})]))]),e("td",wt,[l.stackable?(a(),r("span",_t," Max: "+d(l.max_stack||1),1)):(a(),r("span",kt,"â€”"))]),e("td",Ct,[e("div",It,[e("button",{onClick:y=>we(l),class:"p-2 rounded-lg bg-amber-500/20 text-amber-400 hover:bg-amber-500/30 transition-colors"},[m(c(ce),{class:"w-4 h-4"})],8,$t),e("button",{onClick:y=>ke(l),class:"p-2 rounded-lg bg-red-500/20 text-red-400 hover:bg-red-500/30 transition-colors"},[m(c(Y),{class:"w-4 h-4"})],8,Tt)])])]))),128)),ae.value.length?I("",!0):(a(),r("tr",Vt,[e("td",Ut,[m(c(S),{class:"w-12 h-12 mx-auto mb-3 opacity-50"}),e("p",null,"No "+d(p.value==="all"?"items":p.value+" items")+" found",1)])]))])])]),v.value&&v.value.last_page>1?(a(),r("div",Mt,[e("p",St," Showing "+d((v.value.current_page-1)*v.value.per_page+1)+" to "+d(Math.min(v.value.current_page*v.value.per_page,v.value.total))+" of "+d(v.value.total)+" items ",1),e("div",jt,[e("button",{onClick:t[2]||(t[2]=l=>ne(v.value.current_page-1)),disabled:v.value.current_page<=1,class:"px-3 py-1.5 rounded-lg bg-slate-700/50 text-slate-300 hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed"}," Previous ",8,Lt),e("button",{onClick:t[3]||(t[3]=l=>ne(v.value.current_page+1)),disabled:v.value.current_page>=v.value.last_page,class:"px-3 py-1.5 rounded-lg bg-slate-700/50 text-slate-300 hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed"}," Next ",8,Bt)])])):I("",!0)])),(a(),M(Q,{to:"body"},[E.value?(a(),r("div",Et,[e("div",Ft,[e("div",{class:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:z}),e("div",Nt,[e("div",Dt,[e("h2",Pt,d($.value?"Edit":"Create")+" Item",1),e("button",{onClick:z,class:"text-slate-400 hover:text-white transition-colors"},[m(c(ie),{class:"w-6 h-6"})])]),e("form",{onSubmit:W(_e,["prevent"]),class:"p-6"},[e("div",qt,[e("div",zt,[t[26]||(t[26]=e("label",null,"Name *",-1)),i(e("input",{"onUpdate:modelValue":t[4]||(t[4]=l=>o.value.name=l),type:"text",required:"",placeholder:"e.g. Bulletproof Vest"},null,512),[[g,o.value.name]])]),e("div",At,[t[27]||(t[27]=e("label",null,"Description *",-1)),i(e("textarea",{"onUpdate:modelValue":t[5]||(t[5]=l=>o.value.description=l),required:"",rows:"3",placeholder:"Item description..."},null,512),[[g,o.value.description]])]),e("div",Rt,[t[28]||(t[28]=e("label",null,"Type *",-1)),i(e("select",{"onUpdate:modelValue":t[6]||(t[6]=l=>o.value.type=l),required:""},[(a(!0),r(k,null,C(T.value,l=>(a(),r("option",{key:l.name,value:l.name},d(l.label),9,Ht))),128))],512),[[L,o.value.type]])]),e("div",Zt,[t[29]||(t[29]=e("label",null,"Rarity *",-1)),i(e("select",{"onUpdate:modelValue":t[7]||(t[7]=l=>o.value.rarity=l),required:""},[(a(!0),r(k,null,C(A.value,l=>(a(),r("option",{key:l.name,value:l.name},d(l.label),9,Kt))),128))],512),[[L,o.value.rarity]])]),e("div",Ot,[t[30]||(t[30]=e("label",null,"Price *",-1)),i(e("input",{"onUpdate:modelValue":t[8]||(t[8]=l=>o.value.price=l),type:"number",min:"0",required:""},null,512),[[g,o.value.price,void 0,{number:!0}]])]),e("div",Gt,[t[31]||(t[31]=e("label",null,"Sell Price",-1)),i(e("input",{"onUpdate:modelValue":t[9]||(t[9]=l=>o.value.sell_price=l),type:"number",min:"0"},null,512),[[g,o.value.sell_price,void 0,{number:!0}]])]),e("div",Wt,[t[32]||(t[32]=e("label",null,"Max Stack",-1)),i(e("input",{"onUpdate:modelValue":t[10]||(t[10]=l=>o.value.max_stack=l),type:"number",min:"1"},null,512),[[g,o.value.max_stack,void 0,{number:!0}]])]),e("div",Xt,[t[33]||(t[33]=e("label",null,"Image URL",-1)),i(e("input",{"onUpdate:modelValue":t[11]||(t[11]=l=>o.value.image=l),type:"text",placeholder:"https://..."},null,512),[[g,o.value.image]])]),e("div",Qt,[e("div",Yt,[i(e("input",{"onUpdate:modelValue":t[12]||(t[12]=l=>o.value.tradeable=l),type:"checkbox",id:"tradeable-checkbox"},null,512),[[X,o.value.tradeable]]),t[34]||(t[34]=e("label",{for:"tradeable-checkbox"},"Tradeable",-1))])]),e("div",Jt,[e("div",el,[i(e("input",{"onUpdate:modelValue":t[13]||(t[13]=l=>o.value.stackable=l),type:"checkbox",id:"stackable-checkbox"},null,512),[[X,o.value.stackable]]),t[35]||(t[35]=e("label",{for:"stackable-checkbox"},"Stackable",-1))])]),e("div",tl,[e("div",ll,[i(e("input",{"onUpdate:modelValue":t[14]||(t[14]=l=>o.value.is_usable=l),type:"checkbox",id:"usable-checkbox"},null,512),[[X,o.value.is_usable]]),t[36]||(t[36]=e("label",{for:"usable-checkbox"},"Can Be Used (Consumable)",-1))])])]),o.value.is_usable?(a(),r("div",sl,[e("div",al,[t[38]||(t[38]=e("h3",{class:"text-lg font-semibold text-white"},"Item Effects",-1)),e("button",{type:"button",onClick:fe,class:"px-3 py-1.5 rounded-lg bg-slate-700 text-slate-300 hover:bg-slate-600 transition-colors text-sm flex items-center gap-2"},[m(c(J),{class:"w-4 h-4"}),t[37]||(t[37]=U(" Add Effect ",-1))])]),e("div",ol,[(a(!0),r(k,null,C(o.value.effects,(l,y)=>(a(),r("div",{key:y,class:"flex items-start gap-3 p-4 bg-slate-900/50 rounded-lg border border-slate-700"},[e("div",rl,[e("div",null,[t[39]||(t[39]=e("label",{class:"text-xs text-slate-400"},"Effect Type",-1)),i(e("select",{"onUpdate:modelValue":b=>l.name=b,class:"w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded-lg text-white text-sm"},[(a(!0),r(k,null,C(te.value,b=>(a(),r("option",{key:b.name,value:b.name},d(b.label),9,dl))),128))],8,nl),[[L,l.name]])]),e("div",null,[t[40]||(t[40]=e("label",{class:"text-xs text-slate-400"},"Value",-1)),i(e("input",{"onUpdate:modelValue":b=>l.value=b,type:"number",min:"0",class:"w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded-lg text-white text-sm",placeholder:"e.g. 50"},null,8,il),[[g,l.value,void 0,{number:!0}]])]),e("div",null,[t[41]||(t[41]=e("label",{class:"text-xs text-slate-400"},"Modifier",-1)),i(e("select",{"onUpdate:modelValue":b=>l.modifier_type=b,class:"w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded-lg text-white text-sm"},[(a(!0),r(k,null,C(le.value,b=>(a(),r("option",{key:b.name,value:b.name},d(b.label),9,cl))),128))],8,ul),[[L,l.modifier_type]])]),e("div",pl,[e("button",{type:"button",onClick:b=>ge(y),class:"px-3 py-2 rounded-lg bg-red-500/20 text-red-400 hover:bg-red-500/30 transition-colors"},[m(c(Y),{class:"w-4 h-4"})],8,ml)])])]))),128)),(n=o.value.effects)!=null&&n.length?I("",!0):(a(),r("p",vl,' No effects added. Click "Add Effect" to add one. '))]),e("div",bl,[e("div",xl,[t[42]||(t[42]=e("label",null,"Cooldown (seconds)",-1)),i(e("input",{"onUpdate:modelValue":t[15]||(t[15]=l=>o.value.cooldown=l),type:"number",min:"0",placeholder:"e.g. 300 (5 min)"},null,512),[[g,o.value.cooldown,void 0,{number:!0}]])]),e("div",fl,[t[43]||(t[43]=e("label",null,"Duration (seconds, 0 = instant)",-1)),i(e("input",{"onUpdate:modelValue":t[16]||(t[16]=l=>o.value.duration=l),type:"number",min:"0",placeholder:"e.g. 3600 (1 hour)"},null,512),[[g,o.value.duration,void 0,{number:!0}]])])])])):I("",!0),e("div",gl,[e("button",{type:"button",onClick:z,class:"px-4 py-2 rounded-lg bg-slate-700 text-slate-300 hover:bg-slate-600 transition-colors"}," Cancel "),e("button",{type:"submit",disabled:F.value,class:"px-4 py-2 rounded-lg bg-gradient-to-r from-amber-500 to-orange-600 text-white font-medium hover:from-amber-600 hover:to-orange-700 transition-all disabled:opacity-50"},d(F.value?"Saving...":$.value?"Update":"Create"),9,yl)])],32)])])])):I("",!0)])),(a(),M(Q,{to:"body"},[w.value.show?(a(),r("div",{key:0,class:"fixed inset-0 z-40",onClick:t[17]||(t[17]=l=>w.value.show=!1)})):I("",!0),w.value.show?(a(),r("div",{key:1,class:"fixed z-50 bg-slate-800 border border-slate-700 rounded-xl shadow-2xl py-1 min-w-[160px]",style:Me({top:w.value.y+"px",left:w.value.x+"px"})},[e("button",{onClick:be,class:"w-full text-left px-4 py-2.5 text-sm text-slate-300 hover:bg-slate-700/50 flex items-center gap-2"},[m(c(ce),{class:"w-4 h-4"}),t[44]||(t[44]=U(" Edit Type ",-1))]),e("button",{onClick:xe,class:"w-full text-left px-4 py-2.5 text-sm text-red-400 hover:bg-red-500/10 flex items-center gap-2"},[m(c(Y),{class:"w-4 h-4"}),t[45]||(t[45]=U(" Delete Type ",-1))])],4)):I("",!0)])),(a(),M(Q,{to:"body"},[N.value?(a(),r("div",hl,[e("div",wl,[e("div",{class:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:P}),e("div",_l,[e("div",kl,[e("h2",Cl,d(_.value?"Edit":"Create")+" Item Type",1),e("button",{onClick:P,class:"text-slate-400 hover:text-white transition-colors"},[m(c(ie),{class:"w-6 h-6"})])]),e("form",{onSubmit:W(me,["prevent"]),class:"p-6 space-y-5"},[e("div",Il,[t[46]||(t[46]=e("label",null,"Type Key *",-1)),i(e("input",{"onUpdate:modelValue":t[18]||(t[18]=l=>f.value.name=l),type:"text",required:"",placeholder:"e.g. vehicle",pattern:"[a-z0-9_]+",title:"Lowercase letters, numbers, and underscores only",disabled:!!_.value,class:V({"opacity-50 cursor-not-allowed":!!_.value})},null,10,$l),[[g,f.value.name]]),t[47]||(t[47]=e("p",{class:"text-xs text-slate-500 mt-1"},"Lowercase, no spaces. Used internally.",-1))]),e("div",Tl,[t[48]||(t[48]=e("label",null,"Display Label *",-1)),i(e("input",{"onUpdate:modelValue":t[19]||(t[19]=l=>f.value.label=l),type:"text",required:"",placeholder:"e.g. Vehicles"},null,512),[[g,f.value.label]])]),e("div",Vl,[t[50]||(t[50]=e("label",null,"Icon",-1)),i(e("select",{"onUpdate:modelValue":t[20]||(t[20]=l=>f.value.icon=l)},[(a(),r(k,null,C(R,(l,y)=>e("option",{key:y,value:y},d(y),9,Ul)),64))],512),[[L,f.value.icon]]),e("div",Ml,[(a(),M(ue(R[f.value.icon]||c(S)),{class:"w-6 h-6"})),t[49]||(t[49]=e("span",{class:"text-sm"},"Preview",-1))])]),e("div",Sl,[t[51]||(t[51]=e("label",null,"Sort Order",-1)),i(e("input",{"onUpdate:modelValue":t[21]||(t[21]=l=>f.value.sort_order=l),type:"number",min:"0"},null,512),[[g,f.value.sort_order,void 0,{number:!0}]])]),e("div",jl,[e("button",{type:"button",onClick:P,class:"px-4 py-2 rounded-lg bg-slate-700 text-slate-300 hover:bg-slate-600 transition-colors"}," Cancel "),e("button",{type:"submit",disabled:D.value,class:"px-4 py-2 rounded-lg bg-gradient-to-r from-emerald-500 to-teal-600 text-white font-medium hover:from-emerald-600 hover:to-teal-700 transition-all disabled:opacity-50"},d(D.value?"Saving...":_.value?"Update":"Create"),9,Ll)])],32)])])])):I("",!0)]))])}}},Al=Ie(Bl,[["__scopeId","data-v-0b7c37fa"]]);export{Al as default};
