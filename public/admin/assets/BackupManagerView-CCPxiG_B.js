import{o as r,h as i,a as e,e as X,x as v,b as o,z as n,at as C,d as u,t as d,au as T,n as x,F as D,i as A,N as Y,l as m,k as c,m as $,v as f,ac as ee,C as te,V as se,E as H,g as p}from"./index-BwhfHraJ.js";import{r as le}from"./PlusIcon-Buej6SRa.js";import{r as U}from"./ClockIcon-CI5KSOG2.js";function ae(S,g){return r(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})])}function oe(S,g){return r(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 12c0-1.232-.046-2.453-.138-3.662a4.006 4.006 0 0 0-3.7-3.7 48.678 48.678 0 0 0-7.324 0 4.006 4.006 0 0 0-3.7 3.7c-.017.22-.032.441-.046.662M19.5 12l3-3m-3 3-3-3m-12 3c0 1.232.046 2.453.138 3.662a4.006 4.006 0 0 0 3.7 3.7 48.656 48.656 0 0 0 7.324 0 4.006 4.006 0 0 0 3.7-3.7c.017-.22.032-.441.046-.662M4.5 12l3 3m-3-3-3 3"})])}function N(S,g){return r(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"})])}function ne(S,g){return r(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 6a7.5 7.5 0 1 0 7.5 7.5h-7.5V6Z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 10.5H21A7.5 7.5 0 0 0 13.5 3v7.5Z"})])}const re={class:"space-y-6"},ie={class:"flex items-center justify-between"},de={class:"text-2xl font-bold text-white flex items-center gap-3"},ue={class:"p-3 rounded-xl bg-gradient-to-br from-emerald-500 to-teal-600"},ce={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},pe={class:"rounded-2xl bg-slate-800/50 backdrop-blur border border-slate-700/50 p-5"},me={class:"flex items-center justify-between"},be={class:"text-3xl font-bold text-white mt-1"},xe={class:"p-3 rounded-xl bg-emerald-500/20"},ve={class:"rounded-2xl bg-slate-800/50 backdrop-blur border border-slate-700/50 p-5"},fe={class:"flex items-center justify-between"},ge={class:"text-3xl font-bold text-white mt-1"},ke={class:"p-3 rounded-xl bg-blue-500/20"},_e={class:"rounded-2xl bg-slate-800/50 backdrop-blur border border-slate-700/50 p-5"},ye={class:"flex items-center justify-between"},he={class:"text-xl font-bold text-white mt-1"},we={class:"p-3 rounded-xl bg-violet-500/20"},Be={class:"rounded-2xl bg-slate-800/50 backdrop-blur border border-slate-700/50 p-5"},Ce={class:"flex items-center justify-between"},Se={class:"flex items-center gap-1 p-1 bg-slate-800/50 rounded-xl w-fit"},Me=["onClick"],Ve={key:0,class:"rounded-2xl bg-slate-800/50 backdrop-blur border border-slate-700/50 overflow-hidden"},$e={class:"overflow-x-auto"},je={class:"w-full"},Fe={class:"divide-y divide-slate-700/50"},De={key:0,class:"text-center"},Ae={colspan:"6",class:"px-6 py-12"},Ue={class:"flex items-center justify-center gap-3 text-slate-400"},ze={key:1,class:"text-center"},Ze={colspan:"6",class:"px-6 py-12"},Te={class:"px-6 py-4"},He={class:"flex items-center gap-3"},Ne={class:"p-2 rounded-lg bg-slate-700"},qe={class:"font-medium text-white"},Le={class:"text-sm text-slate-400"},Oe={class:"px-6 py-4"},Re={class:"px-6 py-4 text-slate-300"},Ee={class:"px-6 py-4 text-slate-300"},Ge={class:"px-6 py-4"},Ke={class:"px-6 py-4 text-right"},Ie={class:"flex items-center justify-end gap-2"},Pe=["onClick"],We=["onClick"],Je=["onClick"],Qe={key:1,class:"space-y-6"},Xe={class:"rounded-2xl bg-slate-800/50 backdrop-blur border border-slate-700/50 p-6"},Ye={class:"text-lg font-semibold text-white mb-6 flex items-center gap-2"},et={class:"space-y-6"},tt={class:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl"},st={class:"flex items-center gap-3"},lt={class:"p-2 rounded-lg bg-emerald-500/20"},at={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ot={class:"rounded-2xl bg-slate-800/50 backdrop-blur border border-slate-700/50 p-6"},nt={class:"text-lg font-semibold text-white mb-4 flex items-center gap-2"},rt={class:"space-y-3"},it={class:"flex items-center gap-3"},dt={class:"p-2 rounded-lg bg-blue-500/20"},ut={class:"font-medium text-white"},ct={class:"text-sm text-slate-400"},pt={class:"text-slate-300"},mt={key:2,class:"space-y-6"},bt={class:"rounded-2xl bg-slate-800/50 backdrop-blur border border-slate-700/50 p-6"},xt={class:"text-lg font-semibold text-white mb-6 flex items-center gap-2"},vt={class:"space-y-6"},ft={key:0,class:"p-4 bg-slate-900/50 rounded-xl"},gt={class:"text-white font-mono text-sm"},kt={key:1,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},_t={class:"rounded-2xl bg-slate-800/50 backdrop-blur border border-slate-700/50 p-6"},yt={class:"text-lg font-semibold text-white mb-4 flex items-center gap-2"},ht={class:"space-y-4"},wt={class:"flex items-center justify-between"},Bt={class:"text-white font-medium"},Ct={class:"w-full h-3 bg-slate-700 rounded-full overflow-hidden"},St={class:"text-sm text-slate-400"},Mt={key:3,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},Vt={class:"relative w-full max-w-md rounded-2xl bg-slate-800 border border-slate-700 p-6 shadow-xl"},$t={class:"text-xl font-semibold text-white flex items-center gap-2"},jt={class:"mt-6 space-y-4"},Ft={class:"mt-6 flex justify-end gap-3"},Dt=["disabled"],At={key:4,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},Ut={class:"relative w-full max-w-md rounded-2xl bg-slate-800 border border-slate-700 p-6 shadow-xl"},zt={class:"text-xl font-semibold text-white flex items-center gap-2"},Zt={class:"mt-4"},Tt={class:"text-slate-300"},Ht={class:"font-semibold text-white"},Nt={class:"mt-6 flex justify-end gap-3"},qt={key:5,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},Lt={class:"relative w-full max-w-md rounded-2xl bg-slate-800 border border-slate-700 p-6 shadow-xl"},Ot={class:"text-xl font-semibold text-white flex items-center gap-2"},Rt={class:"mt-4"},Et={class:"text-slate-300"},Gt={class:"font-semibold text-white"},Kt={class:"mt-6 flex justify-end gap-3"},Jt={__name:"BackupManagerView",setup(S){const g=p(!1),y=p("backups"),q=[{id:"backups",name:"Backups"},{id:"schedule",name:"Schedule"},{id:"storage",name:"Storage"}],k=p({total_backups:0,storage_used:"0 MB",last_backup:null}),M=p([]),l=p({auto_backup_enabled:!1,backup_frequency:"daily",backup_time:"03:00",backup_type:"full",retention_count:7,storage_driver:"local",local_path:"/storage/backups",s3_bucket:"",s3_region:"",s3_key:"",s3_secret:""}),V=p({used:"2.5 GB",total:"10 GB",percentage:25}),L=p([{id:1,name:"Daily Backup",type:"Full",scheduled_at:"Tomorrow at 03:00"},{id:2,name:"Daily Backup",type:"Full",scheduled_at:"In 2 days at 03:00"}]),h=p(!1),w=p(!1),B=p(!1),_=p(null),b=p({name:"",type:"full",description:""});X(async()=>{await j(),await O()});async function j(){g.value=!0;try{const a=await v.get("/admin/backups");M.value=a.data.backups||[],k.value=a.data.stats||k.value}catch(a){console.error("Failed to load backups:",a),M.value=[{id:1,name:"Daily Backup",filename:"backup_2025_02_04_030000.zip",type:"full",size:"256 MB",created_at:"2025-02-04 03:00",status:"completed"},{id:2,name:"Manual Backup",filename:"backup_2025_02_03_142530.zip",type:"database",size:"128 MB",created_at:"2025-02-03 14:25",status:"completed"},{id:3,name:"Pre-update Backup",filename:"backup_2025_02_02_180000.zip",type:"full",size:"245 MB",created_at:"2025-02-02 18:00",status:"completed"}],k.value={total_backups:3,storage_used:"629 MB",last_backup:"2 hours ago"}}finally{g.value=!1}}async function O(){try{const a=await v.get("/admin/backups/settings");Object.assign(l.value,a.data)}catch(a){console.error("Failed to load backup settings:",a)}}async function R(){try{await v.post("/admin/backups",b.value),h.value=!1,b.value={name:"",type:"full",description:""},await j()}catch(a){console.error("Failed to create backup:",a),alert("Failed to create backup")}}function E(a){_.value=a,w.value=!0}async function G(){try{await v.post(`/admin/backups/${_.value.id}/restore`),w.value=!1,alert("Backup restoration started")}catch(a){console.error("Failed to restore backup:",a),alert("Failed to restore backup")}}function K(a){_.value=a,B.value=!0}async function I(){try{await v.delete(`/admin/backups/${_.value.id}`),B.value=!1,await j()}catch(a){console.error("Failed to delete backup:",a),alert("Failed to delete backup")}}function P(a){window.open(`/api/admin/backups/${a.id}/download`,"_blank")}async function W(){try{await v.put("/admin/backups/settings",{auto_backup_enabled:l.value.auto_backup_enabled,backup_frequency:l.value.backup_frequency,backup_time:l.value.backup_time,backup_type:l.value.backup_type,retention_count:l.value.retention_count}),alert("Schedule settings saved")}catch(a){console.error("Failed to save schedule settings:",a),alert("Failed to save settings")}}async function J(){try{await v.put("/admin/backups/storage",{storage_driver:l.value.storage_driver,s3_bucket:l.value.s3_bucket,s3_region:l.value.s3_region,s3_key:l.value.s3_key,s3_secret:l.value.s3_secret}),alert("Storage settings saved")}catch(a){console.error("Failed to save storage settings:",a),alert("Failed to save settings")}}async function Q(){try{await v.post("/admin/backups/test-storage"),alert("Storage connection successful!")}catch(a){console.error("Storage connection failed:",a),alert("Storage connection failed")}}return(a,t)=>{var z,Z;return r(),i("div",re,[e("div",ie,[e("div",null,[e("h1",de,[e("div",ue,[o(n(C),{class:"w-6 h-6 text-white"})]),t[20]||(t[20]=u(" Backup Manager ",-1))]),t[21]||(t[21]=e("p",{class:"text-sm text-slate-400 mt-1"},"Manage database backups, schedule automated backups, and restore data",-1))]),e("button",{onClick:t[0]||(t[0]=s=>h.value=!0),class:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-xl font-medium hover:opacity-90 transition-opacity"},[o(n(le),{class:"w-5 h-5"}),t[22]||(t[22]=u(" Create Backup ",-1))])]),e("div",ce,[e("div",pe,[e("div",me,[e("div",null,[t[23]||(t[23]=e("p",{class:"text-sm text-slate-400"},"Total Backups",-1)),e("p",be,d(k.value.total_backups),1)]),e("div",xe,[o(n(C),{class:"w-6 h-6 text-emerald-400"})])])]),e("div",ve,[e("div",fe,[e("div",null,[t[24]||(t[24]=e("p",{class:"text-sm text-slate-400"},"Storage Used",-1)),e("p",ge,d(k.value.storage_used),1)]),e("div",ke,[o(n(T),{class:"w-6 h-6 text-blue-400"})])])]),e("div",_e,[e("div",ye,[e("div",null,[t[25]||(t[25]=e("p",{class:"text-sm text-slate-400"},"Last Backup",-1)),e("p",he,d(k.value.last_backup||"Never"),1)]),e("div",we,[o(n(U),{class:"w-6 h-6 text-violet-400"})])])]),e("div",Be,[e("div",Ce,[e("div",null,[t[26]||(t[26]=e("p",{class:"text-sm text-slate-400"},"Auto-Backup",-1)),e("p",{class:x(["text-xl font-bold mt-1",l.value.auto_backup_enabled?"text-emerald-400":"text-slate-400"])},d(l.value.auto_backup_enabled?"Enabled":"Disabled"),3)]),e("div",{class:x(["p-3 rounded-xl",l.value.auto_backup_enabled?"bg-emerald-500/20":"bg-slate-700"])},[o(n(N),{class:x(["w-6 h-6",l.value.auto_backup_enabled?"text-emerald-400":"text-slate-400"])},null,8,["class"])],2)])])]),e("div",Se,[(r(),i(D,null,A(q,s=>e("button",{key:s.id,onClick:F=>y.value=s.id,class:x(["px-4 py-2 rounded-lg font-medium transition-all text-sm",y.value===s.id?"bg-slate-700 text-white":"text-slate-400 hover:text-white"])},d(s.name),11,Me)),64))]),y.value==="backups"?(r(),i("div",Ve,[e("div",$e,[e("table",je,[t[30]||(t[30]=e("thead",{class:"bg-slate-900/50"},[e("tr",{class:"text-left text-sm text-slate-400"},[e("th",{class:"px-6 py-4 font-medium"},"Backup Name"),e("th",{class:"px-6 py-4 font-medium"},"Type"),e("th",{class:"px-6 py-4 font-medium"},"Size"),e("th",{class:"px-6 py-4 font-medium"},"Created"),e("th",{class:"px-6 py-4 font-medium"},"Status"),e("th",{class:"px-6 py-4 font-medium text-right"},"Actions")])],-1)),e("tbody",Fe,[g.value?(r(),i("tr",De,[e("td",Ae,[e("div",Ue,[o(n(Y),{class:"w-5 h-5 animate-spin"}),t[27]||(t[27]=u(" Loading backups... ",-1))])])])):M.value.length===0?(r(),i("tr",ze,[e("td",Ze,[o(n(C),{class:"w-12 h-12 text-slate-600 mx-auto mb-3"}),t[28]||(t[28]=e("p",{class:"text-slate-400"},"No backups found",-1)),t[29]||(t[29]=e("p",{class:"text-sm text-slate-500"},"Create your first backup to get started",-1))])])):m("",!0),(r(!0),i(D,null,A(M.value,s=>(r(),i("tr",{key:s.id,class:"hover:bg-slate-700/30 transition-colors"},[e("td",Te,[e("div",He,[e("div",Ne,[o(n(C),{class:"w-5 h-5 text-emerald-400"})]),e("div",null,[e("p",qe,d(s.name),1),e("p",Le,d(s.filename),1)])])]),e("td",Oe,[e("span",{class:x(["px-2 py-1 text-xs font-medium rounded-lg",s.type==="full"?"bg-emerald-500/20 text-emerald-400":s.type==="database"?"bg-blue-500/20 text-blue-400":"bg-amber-500/20 text-amber-400"])},d(s.type),3)]),e("td",Re,d(s.size),1),e("td",Ee,d(s.created_at),1),e("td",Ge,[e("span",{class:x(["flex items-center gap-1.5 text-sm",s.status==="completed"?"text-emerald-400":s.status==="in_progress"?"text-amber-400":"text-red-400"])},[e("span",{class:x(["w-2 h-2 rounded-full",s.status==="completed"?"bg-emerald-400":s.status==="in_progress"?"bg-amber-400 animate-pulse":"bg-red-400"])},null,2),u(" "+d(s.status),1)],2)]),e("td",Ke,[e("div",Ie,[e("button",{onClick:F=>P(s),class:"p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-colors",title:"Download"},[o(n(ae),{class:"w-5 h-5"})],8,Pe),e("button",{onClick:F=>E(s),class:"p-2 text-slate-400 hover:text-emerald-400 hover:bg-slate-700 rounded-lg transition-colors",title:"Restore"},[o(n(oe),{class:"w-5 h-5"})],8,We),e("button",{onClick:F=>K(s),class:"p-2 text-slate-400 hover:text-red-400 hover:bg-slate-700 rounded-lg transition-colors",title:"Delete"},[o(n(H),{class:"w-5 h-5"})],8,Je)])])]))),128))])])])])):m("",!0),y.value==="schedule"?(r(),i("div",Qe,[e("div",Xe,[e("h3",Ye,[o(n(N),{class:"w-5 h-5 text-emerald-400"}),t[31]||(t[31]=u(" Automatic Backup Schedule ",-1))]),e("div",et,[e("div",tt,[e("div",st,[e("div",lt,[o(n(U),{class:"w-5 h-5 text-emerald-400"})]),t[32]||(t[32]=e("div",null,[e("p",{class:"font-medium text-white"},"Enable Automatic Backups"),e("p",{class:"text-sm text-slate-400"},"Automatically create backups on a schedule")],-1))]),e("button",{onClick:t[1]||(t[1]=s=>l.value.auto_backup_enabled=!l.value.auto_backup_enabled),class:x(["relative inline-flex h-6 w-11 items-center rounded-full transition-colors",l.value.auto_backup_enabled?"bg-emerald-500":"bg-slate-600"])},[e("span",{class:x(["inline-block h-4 w-4 transform rounded-full bg-white transition-transform",l.value.auto_backup_enabled?"translate-x-6":"translate-x-1"])},null,2)],2)]),l.value.auto_backup_enabled?(r(),i("div",at,[e("div",null,[t[34]||(t[34]=e("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Backup Frequency",-1)),c(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>l.value.backup_frequency=s),class:"w-full px-4 py-2.5 bg-slate-900/50 border border-slate-700 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-emerald-500/50"},[...t[33]||(t[33]=[e("option",{value:"hourly"},"Every Hour",-1),e("option",{value:"daily"},"Daily",-1),e("option",{value:"weekly"},"Weekly",-1),e("option",{value:"monthly"},"Monthly",-1)])],512),[[$,l.value.backup_frequency]])]),e("div",null,[t[35]||(t[35]=e("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Backup Time",-1)),c(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>l.value.backup_time=s),type:"time",class:"w-full px-4 py-2.5 bg-slate-900/50 border border-slate-700 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-emerald-500/50"},null,512),[[f,l.value.backup_time]])]),e("div",null,[t[37]||(t[37]=e("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Backup Type",-1)),c(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>l.value.backup_type=s),class:"w-full px-4 py-2.5 bg-slate-900/50 border border-slate-700 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-emerald-500/50"},[...t[36]||(t[36]=[e("option",{value:"full"},"Full (Database + Files)",-1),e("option",{value:"database"},"Database Only",-1),e("option",{value:"files"},"Files Only",-1)])],512),[[$,l.value.backup_type]])]),e("div",null,[t[38]||(t[38]=e("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Keep Last N Backups",-1)),c(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>l.value.retention_count=s),type:"number",min:"1",max:"100",class:"w-full px-4 py-2.5 bg-slate-900/50 border border-slate-700 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-emerald-500/50"},null,512),[[f,l.value.retention_count,void 0,{number:!0}]])])])):m("",!0),e("div",{class:"flex justify-end"},[e("button",{onClick:W,class:"px-4 py-2 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-xl font-medium hover:opacity-90 transition-opacity"}," Save Schedule Settings ")])])]),e("div",ot,[e("h3",nt,[o(n(ee),{class:"w-5 h-5 text-blue-400"}),t[39]||(t[39]=u(" Upcoming Scheduled Backups ",-1))]),e("div",rt,[(r(!0),i(D,null,A(L.value,s=>(r(),i("div",{key:s.id,class:"flex items-center justify-between p-3 bg-slate-900/50 rounded-xl"},[e("div",it,[e("div",dt,[o(n(U),{class:"w-5 h-5 text-blue-400"})]),e("div",null,[e("p",ut,d(s.name),1),e("p",ct,d(s.type)+" backup",1)])]),e("span",pt,d(s.scheduled_at),1)]))),128))])])])):m("",!0),y.value==="storage"?(r(),i("div",mt,[e("div",bt,[e("h3",xt,[o(n(T),{class:"w-5 h-5 text-blue-400"}),t[40]||(t[40]=u(" Storage Configuration ",-1))]),e("div",vt,[e("div",null,[t[42]||(t[42]=e("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Storage Driver",-1)),c(e("select",{"onUpdate:modelValue":t[6]||(t[6]=s=>l.value.storage_driver=s),class:"w-full px-4 py-2.5 bg-slate-900/50 border border-slate-700 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-emerald-500/50"},[...t[41]||(t[41]=[e("option",{value:"local"},"Local Storage",-1),e("option",{value:"s3"},"Amazon S3",-1),e("option",{value:"gcs"},"Google Cloud Storage",-1),e("option",{value:"dropbox"},"Dropbox",-1)])],512),[[$,l.value.storage_driver]])]),l.value.storage_driver==="local"?(r(),i("div",ft,[t[43]||(t[43]=e("p",{class:"text-sm text-slate-400 mb-2"},"Storage Path",-1)),e("p",gt,d(l.value.local_path),1)])):m("",!0),l.value.storage_driver==="s3"?(r(),i("div",kt,[e("div",null,[t[44]||(t[44]=e("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"S3 Bucket",-1)),c(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>l.value.s3_bucket=s),type:"text",class:"w-full px-4 py-2.5 bg-slate-900/50 border border-slate-700 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"my-backup-bucket"},null,512),[[f,l.value.s3_bucket]])]),e("div",null,[t[45]||(t[45]=e("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"S3 Region",-1)),c(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>l.value.s3_region=s),type:"text",class:"w-full px-4 py-2.5 bg-slate-900/50 border border-slate-700 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"us-east-1"},null,512),[[f,l.value.s3_region]])]),e("div",null,[t[46]||(t[46]=e("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Access Key ID",-1)),c(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>l.value.s3_key=s),type:"password",class:"w-full px-4 py-2.5 bg-slate-900/50 border border-slate-700 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"••••••••"},null,512),[[f,l.value.s3_key]])]),e("div",null,[t[47]||(t[47]=e("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Secret Access Key",-1)),c(e("input",{"onUpdate:modelValue":t[10]||(t[10]=s=>l.value.s3_secret=s),type:"password",class:"w-full px-4 py-2.5 bg-slate-900/50 border border-slate-700 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"••••••••"},null,512),[[f,l.value.s3_secret]])])])):m("",!0),e("div",{class:"flex justify-end gap-3"},[e("button",{onClick:Q,class:"px-4 py-2 bg-slate-700 text-white rounded-xl font-medium hover:bg-slate-600 transition-colors"}," Test Connection "),e("button",{onClick:J,class:"px-4 py-2 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-xl font-medium hover:opacity-90 transition-opacity"}," Save Storage Settings ")])])]),e("div",_t,[e("h3",yt,[o(n(ne),{class:"w-5 h-5 text-violet-400"}),t[48]||(t[48]=u(" Storage Usage ",-1))]),e("div",ht,[e("div",wt,[t[49]||(t[49]=e("span",{class:"text-slate-300"},"Used",-1)),e("span",Bt,d(V.value.used)+" / "+d(V.value.total),1)]),e("div",Ct,[e("div",{class:"h-full bg-gradient-to-r from-emerald-500 to-teal-500 rounded-full transition-all",style:te({width:`${V.value.percentage}%`})},null,4)]),e("p",St,d(V.value.percentage)+"% of storage used",1)])])])):m("",!0),h.value?(r(),i("div",Mt,[e("div",{class:"fixed inset-0 bg-black/60 backdrop-blur-sm",onClick:t[11]||(t[11]=s=>h.value=!1)}),e("div",Vt,[e("h3",$t,[o(n(C),{class:"w-6 h-6 text-emerald-400"}),t[50]||(t[50]=u(" Create New Backup ",-1))]),e("div",jt,[e("div",null,[t[51]||(t[51]=e("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Backup Name",-1)),c(e("input",{"onUpdate:modelValue":t[12]||(t[12]=s=>b.value.name=s),type:"text",class:"w-full px-4 py-2.5 bg-slate-900/50 border border-slate-700 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"Manual backup"},null,512),[[f,b.value.name]])]),e("div",null,[t[53]||(t[53]=e("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Backup Type",-1)),c(e("select",{"onUpdate:modelValue":t[13]||(t[13]=s=>b.value.type=s),class:"w-full px-4 py-2.5 bg-slate-900/50 border border-slate-700 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-emerald-500/50"},[...t[52]||(t[52]=[e("option",{value:"full"},"Full (Database + Files)",-1),e("option",{value:"database"},"Database Only",-1),e("option",{value:"files"},"Files Only",-1)])],512),[[$,b.value.type]])]),e("div",null,[t[54]||(t[54]=e("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Description (Optional)",-1)),c(e("textarea",{"onUpdate:modelValue":t[14]||(t[14]=s=>b.value.description=s),rows:"3",class:"w-full px-4 py-2.5 bg-slate-900/50 border border-slate-700 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 resize-none",placeholder:"Backup before major update..."},null,512),[[f,b.value.description]])])]),e("div",Ft,[e("button",{onClick:t[15]||(t[15]=s=>h.value=!1),class:"px-4 py-2 text-slate-300 hover:text-white transition-colors"}," Cancel "),e("button",{onClick:R,disabled:!b.value.name,class:"px-4 py-2 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-xl font-medium hover:opacity-90 transition-opacity disabled:opacity-50"}," Create Backup ",8,Dt)])])])):m("",!0),w.value?(r(),i("div",At,[e("div",{class:"fixed inset-0 bg-black/60 backdrop-blur-sm",onClick:t[16]||(t[16]=s=>w.value=!1)}),e("div",Ut,[e("h3",zt,[o(n(se),{class:"w-6 h-6 text-amber-400"}),t[55]||(t[55]=u(" Confirm Restore ",-1))]),e("div",Zt,[e("p",Tt,[t[56]||(t[56]=u(" Are you sure you want to restore from backup ",-1)),e("span",Ht,'"'+d((z=_.value)==null?void 0:z.name)+'"',1),t[57]||(t[57]=u("? ",-1))]),t[58]||(t[58]=e("p",{class:"mt-2 text-sm text-amber-400"}," Warning: This will overwrite current data and cannot be undone. ",-1))]),e("div",Nt,[e("button",{onClick:t[17]||(t[17]=s=>w.value=!1),class:"px-4 py-2 text-slate-300 hover:text-white transition-colors"}," Cancel "),e("button",{onClick:G,class:"px-4 py-2 bg-gradient-to-r from-amber-500 to-orange-600 text-white rounded-xl font-medium hover:opacity-90 transition-opacity"}," Restore Backup ")])])])):m("",!0),B.value?(r(),i("div",qt,[e("div",{class:"fixed inset-0 bg-black/60 backdrop-blur-sm",onClick:t[18]||(t[18]=s=>B.value=!1)}),e("div",Lt,[e("h3",Ot,[o(n(H),{class:"w-6 h-6 text-red-400"}),t[59]||(t[59]=u(" Delete Backup ",-1))]),e("div",Rt,[e("p",Et,[t[60]||(t[60]=u(" Are you sure you want to delete backup ",-1)),e("span",Gt,'"'+d((Z=_.value)==null?void 0:Z.name)+'"',1),t[61]||(t[61]=u("? ",-1))]),t[62]||(t[62]=e("p",{class:"mt-2 text-sm text-red-400"}," This action cannot be undone. ",-1))]),e("div",Kt,[e("button",{onClick:t[19]||(t[19]=s=>B.value=!1),class:"px-4 py-2 text-slate-300 hover:text-white transition-colors"}," Cancel "),e("button",{onClick:I,class:"px-4 py-2 bg-gradient-to-r from-red-500 to-rose-600 text-white rounded-xl font-medium hover:opacity-90 transition-opacity"}," Delete Backup ")])])])):m("",!0)])}}};export{Jt as default};
