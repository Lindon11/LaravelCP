import{o,h as n,a as e,e as X,x as v,b as r,z as i,d as u,t as d,ay as V,az as T,n as x,F as D,i as A,N as Y,l as m,k as c,m as $,v as f,al as ee,C as te,V as se,E as H,g as p}from"./index-DL7Vp4x-.js";import{r as le}from"./PlusIcon-DK2kefzg.js";import{r as z}from"./ClockIcon-XlHXJY13.js";function ae(C,g){return o(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})])}function oe(C,g){return o(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 12c0-1.232-.046-2.453-.138-3.662a4.006 4.006 0 0 0-3.7-3.7 48.678 48.678 0 0 0-7.324 0 4.006 4.006 0 0 0-3.7 3.7c-.017.22-.032.441-.046.662M19.5 12l3-3m-3 3-3-3m-12 3c0 1.232.046 2.453.138 3.662a4.006 4.006 0 0 0 3.7 3.7 48.656 48.656 0 0 0 7.324 0 4.006 4.006 0 0 0 3.7-3.7c.017-.22.032-.441.046-.662M4.5 12l3 3m-3-3-3 3"})])}function N(C,g){return o(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"})])}function ne(C,g){return o(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 6a7.5 7.5 0 1 0 7.5 7.5h-7.5V6Z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 10.5H21A7.5 7.5 0 0 0 13.5 3v7.5Z"})])}const re={class:"space-y-6"},ie={class:"flex items-center justify-end"},de={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},ue={class:"rounded-2xl bg-slate-800/50 backdrop-blur border border-slate-700/50 p-5"},ce={class:"flex items-center justify-between"},pe={class:"text-3xl font-bold text-white mt-1"},me={class:"p-3 rounded-xl bg-emerald-500/20"},be={class:"rounded-2xl bg-slate-800/50 backdrop-blur border border-slate-700/50 p-5"},xe={class:"flex items-center justify-between"},ve={class:"text-3xl font-bold text-white mt-1"},fe={class:"p-3 rounded-xl bg-blue-500/20"},ge={class:"rounded-2xl bg-slate-800/50 backdrop-blur border border-slate-700/50 p-5"},ke={class:"flex items-center justify-between"},_e={class:"text-xl font-bold text-white mt-1"},ye={class:"p-3 rounded-xl bg-violet-500/20"},he={class:"rounded-2xl bg-slate-800/50 backdrop-blur border border-slate-700/50 p-5"},we={class:"flex items-center justify-between"},Be={class:"flex items-center gap-1 p-1 bg-slate-800/50 rounded-xl w-fit"},Ce=["onClick"],Se={key:0,class:"rounded-2xl bg-slate-800/50 backdrop-blur border border-slate-700/50 overflow-hidden"},Me={class:"overflow-x-auto"},Ve={class:"w-full"},$e={class:"divide-y divide-slate-700/50"},je={key:0,class:"text-center"},Fe={colspan:"6",class:"px-6 py-12"},De={class:"flex items-center justify-center gap-3 text-slate-400"},Ae={key:1,class:"text-center"},ze={colspan:"6",class:"px-6 py-12"},Ue={class:"px-6 py-4"},Ze={class:"flex items-center gap-3"},Te={class:"p-2 rounded-lg bg-slate-700"},He={class:"font-medium text-white"},Ne={class:"text-sm text-slate-400"},qe={class:"px-6 py-4"},Le={class:"px-6 py-4 text-slate-300"},Oe={class:"px-6 py-4 text-slate-300"},Re={class:"px-6 py-4"},Ee={class:"px-6 py-4 text-right"},Ge={class:"flex items-center justify-end gap-2"},Ke=["onClick"],Ie=["onClick"],Pe=["onClick"],We={key:1,class:"space-y-6"},Je={class:"rounded-2xl bg-slate-800/50 backdrop-blur border border-slate-700/50 p-6"},Qe={class:"text-lg font-semibold text-white mb-6 flex items-center gap-2"},Xe={class:"space-y-6"},Ye={class:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl"},et={class:"flex items-center gap-3"},tt={class:"p-2 rounded-lg bg-emerald-500/20"},st={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-6"},lt={class:"rounded-2xl bg-slate-800/50 backdrop-blur border border-slate-700/50 p-6"},at={class:"text-lg font-semibold text-white mb-4 flex items-center gap-2"},ot={class:"space-y-3"},nt={class:"flex items-center gap-3"},rt={class:"p-2 rounded-lg bg-blue-500/20"},it={class:"font-medium text-white"},dt={class:"text-sm text-slate-400"},ut={class:"text-slate-300"},ct={key:2,class:"space-y-6"},pt={class:"rounded-2xl bg-slate-800/50 backdrop-blur border border-slate-700/50 p-6"},mt={class:"text-lg font-semibold text-white mb-6 flex items-center gap-2"},bt={class:"space-y-6"},xt={key:0,class:"p-4 bg-slate-900/50 rounded-xl"},vt={class:"text-white font-mono text-sm"},ft={key:1,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},gt={class:"rounded-2xl bg-slate-800/50 backdrop-blur border border-slate-700/50 p-6"},kt={class:"text-lg font-semibold text-white mb-4 flex items-center gap-2"},_t={class:"space-y-4"},yt={class:"flex items-center justify-between"},ht={class:"text-white font-medium"},wt={class:"w-full h-3 bg-slate-700 rounded-full overflow-hidden"},Bt={class:"text-sm text-slate-400"},Ct={key:3,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},St={class:"relative w-full max-w-md rounded-2xl bg-slate-800 border border-slate-700 p-6 shadow-xl"},Mt={class:"text-xl font-semibold text-white flex items-center gap-2"},Vt={class:"mt-6 space-y-4"},$t={class:"mt-6 flex justify-end gap-3"},jt=["disabled"],Ft={key:4,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},Dt={class:"relative w-full max-w-md rounded-2xl bg-slate-800 border border-slate-700 p-6 shadow-xl"},At={class:"text-xl font-semibold text-white flex items-center gap-2"},zt={class:"mt-4"},Ut={class:"text-slate-300"},Zt={class:"font-semibold text-white"},Tt={class:"mt-6 flex justify-end gap-3"},Ht={key:5,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},Nt={class:"relative w-full max-w-md rounded-2xl bg-slate-800 border border-slate-700 p-6 shadow-xl"},qt={class:"text-xl font-semibold text-white flex items-center gap-2"},Lt={class:"mt-4"},Ot={class:"text-slate-300"},Rt={class:"font-semibold text-white"},Et={class:"mt-6 flex justify-end gap-3"},Pt={__name:"BackupManagerView",setup(C){const g=p(!1),y=p("backups"),q=[{id:"backups",name:"Backups"},{id:"schedule",name:"Schedule"},{id:"storage",name:"Storage"}],k=p({total_backups:0,storage_used:"0 MB",last_backup:null}),S=p([]),l=p({auto_backup_enabled:!1,backup_frequency:"daily",backup_time:"03:00",backup_type:"full",retention_count:7,storage_driver:"local",local_path:"/storage/backups",s3_bucket:"",s3_region:"",s3_key:"",s3_secret:""}),M=p({used:"2.5 GB",total:"10 GB",percentage:25}),L=p([{id:1,name:"Daily Backup",type:"Full",scheduled_at:"Tomorrow at 03:00"},{id:2,name:"Daily Backup",type:"Full",scheduled_at:"In 2 days at 03:00"}]),h=p(!1),w=p(!1),B=p(!1),_=p(null),b=p({name:"",type:"full",description:""});X(async()=>{await j(),await O()});async function j(){g.value=!0;try{const a=await v.get("/admin/backups");S.value=a.data.backups||[],k.value=a.data.stats||k.value}catch(a){console.error("Failed to load backups:",a),S.value=[{id:1,name:"Daily Backup",filename:"backup_2025_02_04_030000.zip",type:"full",size:"256 MB",created_at:"2025-02-04 03:00",status:"completed"},{id:2,name:"Manual Backup",filename:"backup_2025_02_03_142530.zip",type:"database",size:"128 MB",created_at:"2025-02-03 14:25",status:"completed"},{id:3,name:"Pre-update Backup",filename:"backup_2025_02_02_180000.zip",type:"full",size:"245 MB",created_at:"2025-02-02 18:00",status:"completed"}],k.value={total_backups:3,storage_used:"629 MB",last_backup:"2 hours ago"}}finally{g.value=!1}}async function O(){try{const a=await v.get("/admin/backups/settings");Object.assign(l.value,a.data)}catch(a){console.error("Failed to load backup settings:",a)}}async function R(){try{await v.post("/admin/backups",b.value),h.value=!1,b.value={name:"",type:"full",description:""},await j()}catch(a){console.error("Failed to create backup:",a),alert("Failed to create backup")}}function E(a){_.value=a,w.value=!0}async function G(){try{await v.post(`/admin/backups/${_.value.id}/restore`),w.value=!1,alert("Backup restoration started")}catch(a){console.error("Failed to restore backup:",a),alert("Failed to restore backup")}}function K(a){_.value=a,B.value=!0}async function I(){try{await v.delete(`/admin/backups/${_.value.id}`),B.value=!1,await j()}catch(a){console.error("Failed to delete backup:",a),alert("Failed to delete backup")}}function P(a){window.open(`/api/admin/backups/${a.id}/download`,"_blank")}async function W(){try{await v.put("/admin/backups/settings",{auto_backup_enabled:l.value.auto_backup_enabled,backup_frequency:l.value.backup_frequency,backup_time:l.value.backup_time,backup_type:l.value.backup_type,retention_count:l.value.retention_count}),alert("Schedule settings saved")}catch(a){console.error("Failed to save schedule settings:",a),alert("Failed to save settings")}}async function J(){try{await v.put("/admin/backups/storage",{storage_driver:l.value.storage_driver,s3_bucket:l.value.s3_bucket,s3_region:l.value.s3_region,s3_key:l.value.s3_key,s3_secret:l.value.s3_secret}),alert("Storage settings saved")}catch(a){console.error("Failed to save storage settings:",a),alert("Failed to save settings")}}async function Q(){try{await v.post("/admin/backups/test-storage"),alert("Storage connection successful!")}catch(a){console.error("Storage connection failed:",a),alert("Storage connection failed")}}return(a,t)=>{var U,Z;return o(),n("div",re,[e("div",ie,[e("button",{onClick:t[0]||(t[0]=s=>h.value=!0),class:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-xl font-medium hover:opacity-90 transition-opacity"},[r(i(le),{class:"w-5 h-5"}),t[20]||(t[20]=u(" Create Backup ",-1))])]),e("div",de,[e("div",ue,[e("div",ce,[e("div",null,[t[21]||(t[21]=e("p",{class:"text-sm text-slate-400"},"Total Backups",-1)),e("p",pe,d(k.value.total_backups),1)]),e("div",me,[r(i(V),{class:"w-6 h-6 text-emerald-400"})])])]),e("div",be,[e("div",xe,[e("div",null,[t[22]||(t[22]=e("p",{class:"text-sm text-slate-400"},"Storage Used",-1)),e("p",ve,d(k.value.storage_used),1)]),e("div",fe,[r(i(T),{class:"w-6 h-6 text-blue-400"})])])]),e("div",ge,[e("div",ke,[e("div",null,[t[23]||(t[23]=e("p",{class:"text-sm text-slate-400"},"Last Backup",-1)),e("p",_e,d(k.value.last_backup||"Never"),1)]),e("div",ye,[r(i(z),{class:"w-6 h-6 text-violet-400"})])])]),e("div",he,[e("div",we,[e("div",null,[t[24]||(t[24]=e("p",{class:"text-sm text-slate-400"},"Auto-Backup",-1)),e("p",{class:x(["text-xl font-bold mt-1",l.value.auto_backup_enabled?"text-emerald-400":"text-slate-400"])},d(l.value.auto_backup_enabled?"Enabled":"Disabled"),3)]),e("div",{class:x(["p-3 rounded-xl",l.value.auto_backup_enabled?"bg-emerald-500/20":"bg-slate-700"])},[r(i(N),{class:x(["w-6 h-6",l.value.auto_backup_enabled?"text-emerald-400":"text-slate-400"])},null,8,["class"])],2)])])]),e("div",Be,[(o(),n(D,null,A(q,s=>e("button",{key:s.id,onClick:F=>y.value=s.id,class:x(["px-4 py-2 rounded-lg font-medium transition-all text-sm",y.value===s.id?"bg-slate-700 text-white":"text-slate-400 hover:text-white"])},d(s.name),11,Ce)),64))]),y.value==="backups"?(o(),n("div",Se,[e("div",Me,[e("table",Ve,[t[28]||(t[28]=e("thead",{class:"bg-slate-900/50"},[e("tr",{class:"text-left text-sm text-slate-400"},[e("th",{class:"px-6 py-4 font-medium"},"Backup Name"),e("th",{class:"px-6 py-4 font-medium"},"Type"),e("th",{class:"px-6 py-4 font-medium"},"Size"),e("th",{class:"px-6 py-4 font-medium"},"Created"),e("th",{class:"px-6 py-4 font-medium"},"Status"),e("th",{class:"px-6 py-4 font-medium text-right"},"Actions")])],-1)),e("tbody",$e,[g.value?(o(),n("tr",je,[e("td",Fe,[e("div",De,[r(i(Y),{class:"w-5 h-5 animate-spin"}),t[25]||(t[25]=u(" Loading backups... ",-1))])])])):S.value.length===0?(o(),n("tr",Ae,[e("td",ze,[r(i(V),{class:"w-12 h-12 text-slate-600 mx-auto mb-3"}),t[26]||(t[26]=e("p",{class:"text-slate-400"},"No backups found",-1)),t[27]||(t[27]=e("p",{class:"text-sm text-slate-500"},"Create your first backup to get started",-1))])])):m("",!0),(o(!0),n(D,null,A(S.value,s=>(o(),n("tr",{key:s.id,class:"hover:bg-slate-700/30 transition-colors"},[e("td",Ue,[e("div",Ze,[e("div",Te,[r(i(V),{class:"w-5 h-5 text-emerald-400"})]),e("div",null,[e("p",He,d(s.name),1),e("p",Ne,d(s.filename),1)])])]),e("td",qe,[e("span",{class:x(["px-2 py-1 text-xs font-medium rounded-lg",s.type==="full"?"bg-emerald-500/20 text-emerald-400":s.type==="database"?"bg-blue-500/20 text-blue-400":"bg-amber-500/20 text-amber-400"])},d(s.type),3)]),e("td",Le,d(s.size),1),e("td",Oe,d(s.created_at),1),e("td",Re,[e("span",{class:x(["flex items-center gap-1.5 text-sm",s.status==="completed"?"text-emerald-400":s.status==="in_progress"?"text-amber-400":"text-red-400"])},[e("span",{class:x(["w-2 h-2 rounded-full",s.status==="completed"?"bg-emerald-400":s.status==="in_progress"?"bg-amber-400 animate-pulse":"bg-red-400"])},null,2),u(" "+d(s.status),1)],2)]),e("td",Ee,[e("div",Ge,[e("button",{onClick:F=>P(s),class:"p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-colors",title:"Download"},[r(i(ae),{class:"w-5 h-5"})],8,Ke),e("button",{onClick:F=>E(s),class:"p-2 text-slate-400 hover:text-emerald-400 hover:bg-slate-700 rounded-lg transition-colors",title:"Restore"},[r(i(oe),{class:"w-5 h-5"})],8,Ie),e("button",{onClick:F=>K(s),class:"p-2 text-slate-400 hover:text-red-400 hover:bg-slate-700 rounded-lg transition-colors",title:"Delete"},[r(i(H),{class:"w-5 h-5"})],8,Pe)])])]))),128))])])])])):m("",!0),y.value==="schedule"?(o(),n("div",We,[e("div",Je,[e("h3",Qe,[r(i(N),{class:"w-5 h-5 text-emerald-400"}),t[29]||(t[29]=u(" Automatic Backup Schedule ",-1))]),e("div",Xe,[e("div",Ye,[e("div",et,[e("div",tt,[r(i(z),{class:"w-5 h-5 text-emerald-400"})]),t[30]||(t[30]=e("div",null,[e("p",{class:"font-medium text-white"},"Enable Automatic Backups"),e("p",{class:"text-sm text-slate-400"},"Automatically create backups on a schedule")],-1))]),e("button",{onClick:t[1]||(t[1]=s=>l.value.auto_backup_enabled=!l.value.auto_backup_enabled),class:x(["relative inline-flex h-6 w-11 items-center rounded-full transition-colors",l.value.auto_backup_enabled?"bg-emerald-500":"bg-slate-600"])},[e("span",{class:x(["inline-block h-4 w-4 transform rounded-full bg-white transition-transform",l.value.auto_backup_enabled?"translate-x-6":"translate-x-1"])},null,2)],2)]),l.value.auto_backup_enabled?(o(),n("div",st,[e("div",null,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Backup Frequency",-1)),c(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>l.value.backup_frequency=s),class:"w-full px-4 py-2.5 bg-slate-900/50 border border-slate-700 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-emerald-500/50"},[...t[31]||(t[31]=[e("option",{value:"hourly"},"Every Hour",-1),e("option",{value:"daily"},"Daily",-1),e("option",{value:"weekly"},"Weekly",-1),e("option",{value:"monthly"},"Monthly",-1)])],512),[[$,l.value.backup_frequency]])]),e("div",null,[t[33]||(t[33]=e("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Backup Time",-1)),c(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>l.value.backup_time=s),type:"time",class:"w-full px-4 py-2.5 bg-slate-900/50 border border-slate-700 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-emerald-500/50"},null,512),[[f,l.value.backup_time]])]),e("div",null,[t[35]||(t[35]=e("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Backup Type",-1)),c(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>l.value.backup_type=s),class:"w-full px-4 py-2.5 bg-slate-900/50 border border-slate-700 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-emerald-500/50"},[...t[34]||(t[34]=[e("option",{value:"full"},"Full (Database + Files)",-1),e("option",{value:"database"},"Database Only",-1),e("option",{value:"files"},"Files Only",-1)])],512),[[$,l.value.backup_type]])]),e("div",null,[t[36]||(t[36]=e("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Keep Last N Backups",-1)),c(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>l.value.retention_count=s),type:"number",min:"1",max:"100",class:"w-full px-4 py-2.5 bg-slate-900/50 border border-slate-700 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-emerald-500/50"},null,512),[[f,l.value.retention_count,void 0,{number:!0}]])])])):m("",!0),e("div",{class:"flex justify-end"},[e("button",{onClick:W,class:"px-4 py-2 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-xl font-medium hover:opacity-90 transition-opacity"}," Save Schedule Settings ")])])]),e("div",lt,[e("h3",at,[r(i(ee),{class:"w-5 h-5 text-blue-400"}),t[37]||(t[37]=u(" Upcoming Scheduled Backups ",-1))]),e("div",ot,[(o(!0),n(D,null,A(L.value,s=>(o(),n("div",{key:s.id,class:"flex items-center justify-between p-3 bg-slate-900/50 rounded-xl"},[e("div",nt,[e("div",rt,[r(i(z),{class:"w-5 h-5 text-blue-400"})]),e("div",null,[e("p",it,d(s.name),1),e("p",dt,d(s.type)+" backup",1)])]),e("span",ut,d(s.scheduled_at),1)]))),128))])])])):m("",!0),y.value==="storage"?(o(),n("div",ct,[e("div",pt,[e("h3",mt,[r(i(T),{class:"w-5 h-5 text-blue-400"}),t[38]||(t[38]=u(" Storage Configuration ",-1))]),e("div",bt,[e("div",null,[t[40]||(t[40]=e("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Storage Driver",-1)),c(e("select",{"onUpdate:modelValue":t[6]||(t[6]=s=>l.value.storage_driver=s),class:"w-full px-4 py-2.5 bg-slate-900/50 border border-slate-700 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-emerald-500/50"},[...t[39]||(t[39]=[e("option",{value:"local"},"Local Storage",-1),e("option",{value:"s3"},"Amazon S3",-1),e("option",{value:"gcs"},"Google Cloud Storage",-1),e("option",{value:"dropbox"},"Dropbox",-1)])],512),[[$,l.value.storage_driver]])]),l.value.storage_driver==="local"?(o(),n("div",xt,[t[41]||(t[41]=e("p",{class:"text-sm text-slate-400 mb-2"},"Storage Path",-1)),e("p",vt,d(l.value.local_path),1)])):m("",!0),l.value.storage_driver==="s3"?(o(),n("div",ft,[e("div",null,[t[42]||(t[42]=e("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"S3 Bucket",-1)),c(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>l.value.s3_bucket=s),type:"text",class:"w-full px-4 py-2.5 bg-slate-900/50 border border-slate-700 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"my-backup-bucket"},null,512),[[f,l.value.s3_bucket]])]),e("div",null,[t[43]||(t[43]=e("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"S3 Region",-1)),c(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>l.value.s3_region=s),type:"text",class:"w-full px-4 py-2.5 bg-slate-900/50 border border-slate-700 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"us-east-1"},null,512),[[f,l.value.s3_region]])]),e("div",null,[t[44]||(t[44]=e("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Access Key ID",-1)),c(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>l.value.s3_key=s),type:"password",class:"w-full px-4 py-2.5 bg-slate-900/50 border border-slate-700 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"••••••••"},null,512),[[f,l.value.s3_key]])]),e("div",null,[t[45]||(t[45]=e("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Secret Access Key",-1)),c(e("input",{"onUpdate:modelValue":t[10]||(t[10]=s=>l.value.s3_secret=s),type:"password",class:"w-full px-4 py-2.5 bg-slate-900/50 border border-slate-700 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"••••••••"},null,512),[[f,l.value.s3_secret]])])])):m("",!0),e("div",{class:"flex justify-end gap-3"},[e("button",{onClick:Q,class:"px-4 py-2 bg-slate-700 text-white rounded-xl font-medium hover:bg-slate-600 transition-colors"}," Test Connection "),e("button",{onClick:J,class:"px-4 py-2 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-xl font-medium hover:opacity-90 transition-opacity"}," Save Storage Settings ")])])]),e("div",gt,[e("h3",kt,[r(i(ne),{class:"w-5 h-5 text-violet-400"}),t[46]||(t[46]=u(" Storage Usage ",-1))]),e("div",_t,[e("div",yt,[t[47]||(t[47]=e("span",{class:"text-slate-300"},"Used",-1)),e("span",ht,d(M.value.used)+" / "+d(M.value.total),1)]),e("div",wt,[e("div",{class:"h-full bg-gradient-to-r from-emerald-500 to-teal-500 rounded-full transition-all",style:te({width:`${M.value.percentage}%`})},null,4)]),e("p",Bt,d(M.value.percentage)+"% of storage used",1)])])])):m("",!0),h.value?(o(),n("div",Ct,[e("div",{class:"fixed inset-0 bg-black/60 backdrop-blur-sm",onClick:t[11]||(t[11]=s=>h.value=!1)}),e("div",St,[e("h3",Mt,[r(i(V),{class:"w-6 h-6 text-emerald-400"}),t[48]||(t[48]=u(" Create New Backup ",-1))]),e("div",Vt,[e("div",null,[t[49]||(t[49]=e("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Backup Name",-1)),c(e("input",{"onUpdate:modelValue":t[12]||(t[12]=s=>b.value.name=s),type:"text",class:"w-full px-4 py-2.5 bg-slate-900/50 border border-slate-700 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"Manual backup"},null,512),[[f,b.value.name]])]),e("div",null,[t[51]||(t[51]=e("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Backup Type",-1)),c(e("select",{"onUpdate:modelValue":t[13]||(t[13]=s=>b.value.type=s),class:"w-full px-4 py-2.5 bg-slate-900/50 border border-slate-700 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-emerald-500/50"},[...t[50]||(t[50]=[e("option",{value:"full"},"Full (Database + Files)",-1),e("option",{value:"database"},"Database Only",-1),e("option",{value:"files"},"Files Only",-1)])],512),[[$,b.value.type]])]),e("div",null,[t[52]||(t[52]=e("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Description (Optional)",-1)),c(e("textarea",{"onUpdate:modelValue":t[14]||(t[14]=s=>b.value.description=s),rows:"3",class:"w-full px-4 py-2.5 bg-slate-900/50 border border-slate-700 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 resize-none",placeholder:"Backup before major update..."},null,512),[[f,b.value.description]])])]),e("div",$t,[e("button",{onClick:t[15]||(t[15]=s=>h.value=!1),class:"px-4 py-2 text-slate-300 hover:text-white transition-colors"}," Cancel "),e("button",{onClick:R,disabled:!b.value.name,class:"px-4 py-2 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-xl font-medium hover:opacity-90 transition-opacity disabled:opacity-50"}," Create Backup ",8,jt)])])])):m("",!0),w.value?(o(),n("div",Ft,[e("div",{class:"fixed inset-0 bg-black/60 backdrop-blur-sm",onClick:t[16]||(t[16]=s=>w.value=!1)}),e("div",Dt,[e("h3",At,[r(i(se),{class:"w-6 h-6 text-amber-400"}),t[53]||(t[53]=u(" Confirm Restore ",-1))]),e("div",zt,[e("p",Ut,[t[54]||(t[54]=u(" Are you sure you want to restore from backup ",-1)),e("span",Zt,'"'+d((U=_.value)==null?void 0:U.name)+'"',1),t[55]||(t[55]=u("? ",-1))]),t[56]||(t[56]=e("p",{class:"mt-2 text-sm text-amber-400"}," Warning: This will overwrite current data and cannot be undone. ",-1))]),e("div",Tt,[e("button",{onClick:t[17]||(t[17]=s=>w.value=!1),class:"px-4 py-2 text-slate-300 hover:text-white transition-colors"}," Cancel "),e("button",{onClick:G,class:"px-4 py-2 bg-gradient-to-r from-amber-500 to-orange-600 text-white rounded-xl font-medium hover:opacity-90 transition-opacity"}," Restore Backup ")])])])):m("",!0),B.value?(o(),n("div",Ht,[e("div",{class:"fixed inset-0 bg-black/60 backdrop-blur-sm",onClick:t[18]||(t[18]=s=>B.value=!1)}),e("div",Nt,[e("h3",qt,[r(i(H),{class:"w-6 h-6 text-red-400"}),t[57]||(t[57]=u(" Delete Backup ",-1))]),e("div",Lt,[e("p",Ot,[t[58]||(t[58]=u(" Are you sure you want to delete backup ",-1)),e("span",Rt,'"'+d((Z=_.value)==null?void 0:Z.name)+'"',1),t[59]||(t[59]=u("? ",-1))]),t[60]||(t[60]=e("p",{class:"mt-2 text-sm text-red-400"}," This action cannot be undone. ",-1))]),e("div",Et,[e("button",{onClick:t[19]||(t[19]=s=>B.value=!1),class:"px-4 py-2 text-slate-300 hover:text-white transition-colors"}," Cancel "),e("button",{onClick:I,class:"px-4 py-2 bg-gradient-to-r from-red-500 to-rose-600 text-white rounded-xl font-medium hover:opacity-90 transition-opacity"}," Delete Backup ")])])])):m("",!0)])}}};export{Pt as default};
