import{e as Y,x as c,h as m,a as t,n as E,k as o,a3 as B,v as i,d as f,l as g,m as L,X as q,t as b,j as z,F as J,i as Q,g as u,q as Z,o as p}from"./index-B8U8MnUz.js";const ee={class:"space-y-6"},te={class:"border-b border-gray-700"},se={class:"-mb-px flex space-x-8"},ae={key:0,class:"bg-gray-800 rounded-lg p-6"},le={class:"flex space-x-4"},re={class:"inline-flex items-center"},oe={class:"inline-flex items-center"},de={key:0,class:"space-y-4 p-4 bg-gray-900 rounded-lg"},ne={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ie={class:"block text-sm font-medium text-gray-300 mb-1"},ue={key:0,class:"text-green-400 text-xs ml-2"},me=["placeholder"],pe={key:1,class:"space-y-4 p-4 bg-gray-900 rounded-lg"},be={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ge={class:"block text-sm font-medium text-gray-300 mb-1"},ce={key:0,class:"text-green-400 text-xs ml-2"},ye=["placeholder"],xe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ve={class:"flex items-center justify-between p-4 bg-gray-900 rounded-lg"},fe={class:"relative inline-flex items-center cursor-pointer"},we={key:2,class:"flex items-center space-x-2 text-sm"},he={class:"text-gray-500"},ke={class:"flex items-center space-x-4 pt-4 border-t border-gray-700"},_e=["disabled"],Te=["disabled"],Se={key:1,class:"space-y-4"},Ce={class:"flex justify-between items-center"},Ve=["disabled"],Ue={class:"bg-gray-800 rounded-lg overflow-hidden"},je={class:"w-full"},Ee={class:"divide-y divide-gray-700"},Me={class:"px-4 py-3 text-white"},$e={class:"px-4 py-3 text-gray-400 font-mono text-sm"},Pe={class:"px-4 py-3 text-gray-300 text-sm"},De={class:"px-4 py-3"},Fe={class:"px-4 py-3 text-right space-x-2"},Ae=["onClick"],Ne=["onClick"],Be=["onClick"],Le={key:0},qe={key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},ze={class:"bg-gray-800 rounded-lg p-6 w-full max-w-md"},Ie={class:"mb-4"},We={class:"flex justify-end space-x-3"},Oe=["disabled"],Re={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},He={class:"bg-gray-800 rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto"},Ge={class:"text-lg font-medium text-white mb-4"},Ke={class:"grid grid-cols-2 gap-4"},Xe={class:"text-xs text-gray-500 mt-1"},Ye={class:"bg-gray-700 px-1 rounded"},Je={class:"flex items-center"},Qe={class:"relative inline-flex items-center cursor-pointer"},Ze={class:"flex justify-end space-x-3 pt-4 border-t border-gray-700"},et=["disabled"],tt={key:4,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},st={class:"bg-gray-800 rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col"},at={class:"flex justify-between items-center mb-4"},lt={class:"mb-2 text-sm text-gray-400"},rt={class:"flex-1 overflow-auto bg-white rounded-lg"},ot=["srcdoc"],dt={class:"mt-4 flex justify-end space-x-3"},nt={key:5,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60]"},it={class:"bg-gray-800 rounded-lg p-6 w-full max-w-md"},ut={class:"mb-4"},mt={class:"flex justify-end space-x-3"},pt=["disabled"],ct={__name:"EmailSettingsView",setup(bt){const y=u("settings"),w=u(!1),h=u(!1),k=u(!1),_=u(!1),T=u(!1),S=u(!1),C=u(!1),M=u(!1),V=u(!1),x=u(""),v=u(""),U=u(null),$=u(null),a=u({id:null,mailer:"mailgun",host:"",port:587,username:"",password:"",encryption:"tls",from_address:"",from_name:"",mailgun_domain:"",mailgun_secret:"",mailgun_endpoint:"api.mailgun.net",is_active:!1,has_password:!1,has_mailgun_secret:!1,last_tested_at:null,test_successful:null}),P=u([]),d=u({id:null,slug:"",name:"",subject:"",body_html:"",body_text:"",description:"",is_active:!0,available_variables:[]}),F=Z({get:()=>(d.value.available_variables||[]).join(", "),set:l=>{d.value.available_variables=l.split(",").map(e=>e.trim()).filter(e=>e)}});Y(()=>{D(),j()});async function D(){try{const l=await c.get("/admin/email/settings");l.data.success&&Object.assign(a.value,l.data.data)}catch(l){console.error("Failed to load email settings:",l)}}async function j(){try{const l=await c.get("/admin/email/templates");l.data.success&&(P.value=l.data.data)}catch(l){console.error("Failed to load templates:",l)}}async function I(){var l,e;w.value=!0;try{(await c.post("/admin/email/settings",a.value)).data.success&&(alert("Email settings saved successfully"),await D())}catch(r){alert(((e=(l=r.response)==null?void 0:l.data)==null?void 0:e.message)||"Failed to save settings")}finally{w.value=!1}}async function W(){var l,e;if(x.value){h.value=!0;try{const r=await c.post("/admin/email/settings/test",{test_email:x.value});r.data.success&&(alert(r.data.message),S.value=!1,x.value="",await D())}catch(r){alert(((e=(l=r.response)==null?void 0:l.data)==null?void 0:e.message)||"Failed to send test email")}finally{h.value=!1}}}async function O(){var l,e;k.value=!0;try{const r=await c.post("/admin/email/templates/seed-defaults");r.data.success&&(alert(r.data.message),await j())}catch(r){alert(((e=(l=r.response)==null?void 0:l.data)==null?void 0:e.message)||"Failed to create default templates")}finally{k.value=!1}}function A(l=null){l?d.value={...l}:d.value={id:null,slug:"",name:"",subject:"",body_html:"",body_text:"",description:"",is_active:!0,available_variables:[]},C.value=!0}async function R(){var l,e;_.value=!0;try{const r={...d.value};let n;r.id?n=await c.patch(`/admin/email/templates/${r.id}`,r):n=await c.post("/admin/email/templates",r),n.data.success&&(alert(n.data.message),C.value=!1,await j())}catch(r){alert(((e=(l=r.response)==null?void 0:l.data)==null?void 0:e.message)||"Failed to save template")}finally{_.value=!1}}async function H(l){var e,r;$.value=l;try{const n=await c.post(`/admin/email/templates/${l.id}/preview`);n.data.success&&(U.value=n.data.data,M.value=!0)}catch(n){alert(((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||"Failed to preview template")}}async function G(){var l,e;if(!(!v.value||!$.value)){T.value=!0;try{const r=await c.post(`/admin/email/templates/${$.value.id}/test`,{test_email:v.value});r.data.success&&(alert(r.data.message),V.value=!1,v.value="")}catch(r){alert(((e=(l=r.response)==null?void 0:l.data)==null?void 0:e.message)||"Failed to send test email")}finally{T.value=!1}}}function K(l){confirm(`Are you sure you want to delete "${l.name}"?`)&&X(l.id)}async function X(l){var e,r;try{const n=await c.delete(`/admin/email/templates/${l}`);n.data.success&&(alert(n.data.message),await j())}catch(n){alert(((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||"Failed to delete template")}}return(l,e)=>{var r,n;return p(),m("div",ee,[e[70]||(e[70]=t("div",{class:"flex justify-between items-center"},[t("div",null,[t("h1",{class:"text-2xl font-bold text-white"},"Email Settings"),t("p",{class:"text-gray-400 mt-1"},"Configure email delivery and manage templates")])],-1)),t("div",te,[t("nav",se,[t("button",{onClick:e[0]||(e[0]=s=>y.value="settings"),class:E([y.value==="settings"?"border-amber-500 text-amber-500":"border-transparent text-gray-400 hover:text-gray-300 hover:border-gray-300","whitespace-nowrap pb-4 px-1 border-b-2 font-medium text-sm"])}," Settings ",2),t("button",{onClick:e[1]||(e[1]=s=>y.value="templates"),class:E([y.value==="templates"?"border-amber-500 text-amber-500":"border-transparent text-gray-400 hover:text-gray-300 hover:border-gray-300","whitespace-nowrap pb-4 px-1 border-b-2 font-medium text-sm"])}," Templates ",2)])]),y.value==="settings"?(p(),m("div",ae,[t("form",{onSubmit:z(I,["prevent"]),class:"space-y-6"},[t("div",null,[e[34]||(e[34]=t("label",{class:"block text-sm font-medium text-gray-300 mb-2"},"Email Provider",-1)),t("div",le,[t("label",re,[o(t("input",{type:"radio","onUpdate:modelValue":e[2]||(e[2]=s=>a.value.mailer=s),value:"mailgun",class:"form-radio text-amber-500 bg-gray-700 border-gray-600"},null,512),[[B,a.value.mailer]]),e[32]||(e[32]=t("span",{class:"ml-2 text-gray-300"},"Mailgun",-1))]),t("label",oe,[o(t("input",{type:"radio","onUpdate:modelValue":e[3]||(e[3]=s=>a.value.mailer=s),value:"smtp",class:"form-radio text-amber-500 bg-gray-700 border-gray-600"},null,512),[[B,a.value.mailer]]),e[33]||(e[33]=t("span",{class:"ml-2 text-gray-300"},"SMTP",-1))])])]),a.value.mailer==="mailgun"?(p(),m("div",de,[e[39]||(e[39]=t("h3",{class:"text-lg font-medium text-white"},"Mailgun Configuration",-1)),t("div",ne,[t("div",null,[e[35]||(e[35]=t("label",{class:"block text-sm font-medium text-gray-300 mb-1"},"Domain",-1)),o(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>a.value.mailgun_domain=s),type:"text",placeholder:"mg.yourdomain.com",class:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:ring-amber-500 focus:border-amber-500"},null,512),[[i,a.value.mailgun_domain]])]),t("div",null,[t("label",ie,[e[36]||(e[36]=f(" API Key ",-1)),a.value.has_mailgun_secret?(p(),m("span",ue,"(saved)")):g("",!0)]),o(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>a.value.mailgun_secret=s),type:"password",placeholder:a.value.has_mailgun_secret?"••••••••":"Enter API key",class:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:ring-amber-500 focus:border-amber-500"},null,8,me),[[i,a.value.mailgun_secret]])]),t("div",null,[e[38]||(e[38]=t("label",{class:"block text-sm font-medium text-gray-300 mb-1"},"Endpoint",-1)),o(t("select",{"onUpdate:modelValue":e[6]||(e[6]=s=>a.value.mailgun_endpoint=s),class:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white focus:ring-amber-500 focus:border-amber-500"},[...e[37]||(e[37]=[t("option",{value:"api.mailgun.net"},"US Region (api.mailgun.net)",-1),t("option",{value:"api.eu.mailgun.net"},"EU Region (api.eu.mailgun.net)",-1)])],512),[[L,a.value.mailgun_endpoint]])])])])):g("",!0),a.value.mailer==="smtp"?(p(),m("div",pe,[e[46]||(e[46]=t("h3",{class:"text-lg font-medium text-white"},"SMTP Configuration",-1)),t("div",be,[t("div",null,[e[40]||(e[40]=t("label",{class:"block text-sm font-medium text-gray-300 mb-1"},"Host",-1)),o(t("input",{"onUpdate:modelValue":e[7]||(e[7]=s=>a.value.host=s),type:"text",placeholder:"smtp.example.com",class:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:ring-amber-500 focus:border-amber-500"},null,512),[[i,a.value.host]])]),t("div",null,[e[41]||(e[41]=t("label",{class:"block text-sm font-medium text-gray-300 mb-1"},"Port",-1)),o(t("input",{"onUpdate:modelValue":e[8]||(e[8]=s=>a.value.port=s),type:"number",placeholder:"587",class:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:ring-amber-500 focus:border-amber-500"},null,512),[[i,a.value.port,void 0,{number:!0}]])]),t("div",null,[e[42]||(e[42]=t("label",{class:"block text-sm font-medium text-gray-300 mb-1"},"Username",-1)),o(t("input",{"onUpdate:modelValue":e[9]||(e[9]=s=>a.value.username=s),type:"text",class:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:ring-amber-500 focus:border-amber-500"},null,512),[[i,a.value.username]])]),t("div",null,[t("label",ge,[e[43]||(e[43]=f(" Password ",-1)),a.value.has_password?(p(),m("span",ce,"(saved)")):g("",!0)]),o(t("input",{"onUpdate:modelValue":e[10]||(e[10]=s=>a.value.password=s),type:"password",placeholder:a.value.has_password?"••••••••":"Enter password",class:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:ring-amber-500 focus:border-amber-500"},null,8,ye),[[i,a.value.password]])]),t("div",null,[e[45]||(e[45]=t("label",{class:"block text-sm font-medium text-gray-300 mb-1"},"Encryption",-1)),o(t("select",{"onUpdate:modelValue":e[11]||(e[11]=s=>a.value.encryption=s),class:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white focus:ring-amber-500 focus:border-amber-500"},[...e[44]||(e[44]=[t("option",{value:"tls"},"TLS",-1),t("option",{value:"ssl"},"SSL",-1),t("option",{value:"null"},"None",-1)])],512),[[L,a.value.encryption]])])])])):g("",!0),t("div",xe,[t("div",null,[e[47]||(e[47]=t("label",{class:"block text-sm font-medium text-gray-300 mb-1"},"From Address *",-1)),o(t("input",{"onUpdate:modelValue":e[12]||(e[12]=s=>a.value.from_address=s),type:"email",required:"",placeholder:"noreply@yourdomain.com",class:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:ring-amber-500 focus:border-amber-500"},null,512),[[i,a.value.from_address]])]),t("div",null,[e[48]||(e[48]=t("label",{class:"block text-sm font-medium text-gray-300 mb-1"},"From Name *",-1)),o(t("input",{"onUpdate:modelValue":e[13]||(e[13]=s=>a.value.from_name=s),type:"text",required:"",placeholder:"OpenPBBG",class:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:ring-amber-500 focus:border-amber-500"},null,512),[[i,a.value.from_name]])])]),t("div",ve,[e[50]||(e[50]=t("div",null,[t("h4",{class:"text-white font-medium"},"Enable Email System"),t("p",{class:"text-sm text-gray-400"},"When enabled, emails will be sent for registration, password reset, etc.")],-1)),t("label",fe,[o(t("input",{type:"checkbox","onUpdate:modelValue":e[14]||(e[14]=s=>a.value.is_active=s),class:"sr-only peer"},null,512),[[q,a.value.is_active]]),e[49]||(e[49]=t("div",{class:"w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-amber-500 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-amber-500"},null,-1))])]),a.value.last_tested_at?(p(),m("div",we,[t("span",{class:E(a.value.test_successful?"text-green-400":"text-red-400")},b(a.value.test_successful?"✓ Last test successful":"✗ Last test failed"),3),t("span",he,"("+b(new Date(a.value.last_tested_at).toLocaleString())+")",1)])):g("",!0),t("div",ke,[t("button",{type:"submit",disabled:w.value,class:"px-4 py-2 bg-amber-500 text-black font-medium rounded-md hover:bg-amber-600 disabled:opacity-50"},b(w.value?"Saving...":"Save Settings"),9,_e),t("button",{type:"button",onClick:e[15]||(e[15]=s=>S.value=!0),disabled:!a.value.id,class:"px-4 py-2 bg-gray-600 text-white font-medium rounded-md hover:bg-gray-500 disabled:opacity-50"}," Send Test Email ",8,Te)])],32)])):g("",!0),y.value==="templates"?(p(),m("div",Se,[t("div",Ce,[t("button",{onClick:O,disabled:k.value,class:"px-4 py-2 bg-gray-600 text-white text-sm font-medium rounded-md hover:bg-gray-500 disabled:opacity-50"},b(k.value?"Creating...":"Create Default Templates"),9,Ve),t("button",{onClick:e[16]||(e[16]=s=>A()),class:"px-4 py-2 bg-amber-500 text-black text-sm font-medium rounded-md hover:bg-amber-600"}," + New Template ")]),t("div",Ue,[t("table",je,[e[52]||(e[52]=t("thead",{class:"bg-gray-900"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase"},"Name"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase"},"Slug"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase"},"Subject"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase"},"Status"),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase"},"Actions")])],-1)),t("tbody",Ee,[(p(!0),m(J,null,Q(P.value,s=>(p(),m("tr",{key:s.id,class:"hover:bg-gray-700"},[t("td",Me,b(s.name),1),t("td",$e,b(s.slug),1),t("td",Pe,b(s.subject),1),t("td",De,[t("span",{class:E([s.is_active?"bg-green-900 text-green-300":"bg-red-900 text-red-300","px-2 py-1 text-xs rounded-full"])},b(s.is_active?"Active":"Inactive"),3)]),t("td",Fe,[t("button",{onClick:N=>H(s),class:"text-blue-400 hover:text-blue-300 text-sm"},"Preview",8,Ae),t("button",{onClick:N=>A(s),class:"text-amber-400 hover:text-amber-300 text-sm"},"Edit",8,Ne),t("button",{onClick:N=>K(s),class:"text-red-400 hover:text-red-300 text-sm"},"Delete",8,Be)])]))),128)),P.value.length===0?(p(),m("tr",Le,[...e[51]||(e[51]=[t("td",{colspan:"5",class:"px-4 py-8 text-center text-gray-400"},' No templates found. Click "Create Default Templates" to get started. ',-1)])])):g("",!0)])])])])):g("",!0),S.value?(p(),m("div",qe,[t("div",ze,[e[54]||(e[54]=t("h3",{class:"text-lg font-medium text-white mb-4"},"Send Test Email",-1)),t("div",Ie,[e[53]||(e[53]=t("label",{class:"block text-sm font-medium text-gray-300 mb-1"},"Email Address",-1)),o(t("input",{"onUpdate:modelValue":e[17]||(e[17]=s=>x.value=s),type:"email",placeholder:"test@example.com",class:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:ring-amber-500 focus:border-amber-500"},null,512),[[i,x.value]])]),t("div",We,[t("button",{onClick:e[18]||(e[18]=s=>S.value=!1),class:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-500"},"Cancel"),t("button",{onClick:W,disabled:h.value,class:"px-4 py-2 bg-amber-500 text-black rounded-md hover:bg-amber-600 disabled:opacity-50"},b(h.value?"Sending...":"Send Test"),9,Oe)])])])):g("",!0),C.value?(p(),m("div",Re,[t("div",He,[t("h3",Ge,b(d.value.id?"Edit Template":"New Template"),1),t("form",{onSubmit:z(R,["prevent"]),class:"space-y-4"},[t("div",Ke,[t("div",null,[e[55]||(e[55]=t("label",{class:"block text-sm font-medium text-gray-300 mb-1"},"Name *",-1)),o(t("input",{"onUpdate:modelValue":e[19]||(e[19]=s=>d.value.name=s),type:"text",required:"",placeholder:"Welcome Email",class:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:ring-amber-500 focus:border-amber-500"},null,512),[[i,d.value.name]])]),t("div",null,[e[56]||(e[56]=t("label",{class:"block text-sm font-medium text-gray-300 mb-1"},"Slug *",-1)),o(t("input",{"onUpdate:modelValue":e[20]||(e[20]=s=>d.value.slug=s),type:"text",required:"",placeholder:"welcome",class:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:ring-amber-500 focus:border-amber-500"},null,512),[[i,d.value.slug]])])]),t("div",null,[e[57]||(e[57]=t("label",{class:"block text-sm font-medium text-gray-300 mb-1"},"Subject *",-1)),o(t("input",{"onUpdate:modelValue":e[21]||(e[21]=s=>d.value.subject=s),type:"text",required:"",placeholder:"Welcome to {{app_name}}, {{username}}!",class:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:ring-amber-500 focus:border-amber-500"},null,512),[[i,d.value.subject]])]),t("div",null,[e[58]||(e[58]=t("label",{class:"block text-sm font-medium text-gray-300 mb-1"},"Description",-1)),o(t("input",{"onUpdate:modelValue":e[22]||(e[22]=s=>d.value.description=s),type:"text",placeholder:"When is this email sent?",class:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:ring-amber-500 focus:border-amber-500"},null,512),[[i,d.value.description]])]),t("div",null,[e[60]||(e[60]=t("label",{class:"block text-sm font-medium text-gray-300 mb-1"},[f("Available Variables "),t("span",{class:"text-gray-500 font-normal"},"(comma separated)")],-1)),o(t("input",{"onUpdate:modelValue":e[23]||(e[23]=s=>F.value=s),type:"text",placeholder:"app_name, username, email",class:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:ring-amber-500 focus:border-amber-500"},null,512),[[i,F.value]]),t("p",Xe,[e[59]||(e[59]=f("Use variables in templates like: ",-1)),t("code",Ye,b(l.username),1)])]),t("div",null,[e[61]||(e[61]=t("label",{class:"block text-sm font-medium text-gray-300 mb-1"},"HTML Body *",-1)),o(t("textarea",{"onUpdate:modelValue":e[24]||(e[24]=s=>d.value.body_html=s),required:"",rows:"12",placeholder:"<!DOCTYPE html>...",class:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:ring-amber-500 focus:border-amber-500 font-mono text-sm"},null,512),[[i,d.value.body_html]])]),t("div",null,[e[62]||(e[62]=t("label",{class:"block text-sm font-medium text-gray-300 mb-1"},"Plain Text Body (optional)",-1)),o(t("textarea",{"onUpdate:modelValue":e[25]||(e[25]=s=>d.value.body_text=s),rows:"4",placeholder:"Plain text version...",class:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:ring-amber-500 focus:border-amber-500"},null,512),[[i,d.value.body_text]])]),t("div",Je,[t("label",Qe,[o(t("input",{type:"checkbox","onUpdate:modelValue":e[26]||(e[26]=s=>d.value.is_active=s),class:"sr-only peer"},null,512),[[q,d.value.is_active]]),e[63]||(e[63]=t("div",{class:"w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-amber-500 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-amber-500"},null,-1)),e[64]||(e[64]=t("span",{class:"ml-3 text-sm text-gray-300"},"Active",-1))])]),t("div",Ze,[t("button",{type:"button",onClick:e[27]||(e[27]=s=>C.value=!1),class:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-500"},"Cancel"),t("button",{type:"submit",disabled:_.value,class:"px-4 py-2 bg-amber-500 text-black rounded-md hover:bg-amber-600 disabled:opacity-50"},b(_.value?"Saving...":"Save Template"),9,et)])],32)])])):g("",!0),M.value?(p(),m("div",tt,[t("div",st,[t("div",at,[e[66]||(e[66]=t("h3",{class:"text-lg font-medium text-white"},"Template Preview",-1)),t("button",{onClick:e[28]||(e[28]=s=>M.value=!1),class:"text-gray-400 hover:text-white"},[...e[65]||(e[65]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("div",lt,[e[67]||(e[67]=t("strong",null,"Subject:",-1)),f(" "+b((r=U.value)==null?void 0:r.subject),1)]),t("div",rt,[(n=U.value)!=null&&n.body_html?(p(),m("iframe",{key:0,srcdoc:U.value.body_html,class:"w-full h-full min-h-[500px]",sandbox:"allow-same-origin"},null,8,ot)):g("",!0)]),t("div",dt,[t("button",{onClick:e[29]||(e[29]=s=>V.value=!0),class:"px-4 py-2 bg-amber-500 text-black rounded-md hover:bg-amber-600"},"Send Test Email")])])])):g("",!0),V.value?(p(),m("div",nt,[t("div",it,[e[69]||(e[69]=t("h3",{class:"text-lg font-medium text-white mb-4"},"Send Test Email",-1)),t("div",ut,[e[68]||(e[68]=t("label",{class:"block text-sm font-medium text-gray-300 mb-1"},"Email Address",-1)),o(t("input",{"onUpdate:modelValue":e[30]||(e[30]=s=>v.value=s),type:"email",placeholder:"test@example.com",class:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:ring-amber-500 focus:border-amber-500"},null,512),[[i,v.value]])]),t("div",mt,[t("button",{onClick:e[31]||(e[31]=s=>V.value=!1),class:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-500"},"Cancel"),t("button",{onClick:G,disabled:T.value,class:"px-4 py-2 bg-amber-500 text-black rounded-md hover:bg-amber-600 disabled:opacity-50"},b(T.value?"Sending...":"Send"),9,pt)])])])):g("",!0)])}}};export{ct as default};
