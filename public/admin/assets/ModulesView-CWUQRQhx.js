import{_ as b,e as y,h as t,a as s,d as k,F as f,i as w,s as u,g as v,A as M,o as d,t as c,k as m,v as g}from"./index-pYqw9Lqg.js";const F={class:"modules-page"},V={key:0,class:"loading"},C={key:1,class:"no-modules"},$={key:2,class:"modules-grid"},x={class:"module-header"},q={class:"module-icon"},T={class:"module-info"},U={class:"module-details"},B={class:"detail"},L=["onUpdate:modelValue","onChange"],N={class:"detail"},D=["onUpdate:modelValue","onChange"],E={class:"detail"},R={class:"toggle-switch"},S=["checked","onChange"],A={__name:"ModulesView",setup(G){const{showToast:n}=M(),i=v([]),r=v(!0),p=async()=>{r.value=!0;try{const o=await u.get("/admin/modules");i.value=o.data.modules||[]}catch(o){console.error("Failed to load modules:",o),n("Failed to load modules","error")}finally{r.value=!1}},h=async o=>{try{const e=!o.enabled;await u.patch(`/admin/modules/${o.id}/toggle`,{enabled:e}),o.enabled=e,n(`${o.display_name||o.name} ${e?"enabled":"disabled"}`,"success")}catch(e){console.error("Failed to toggle module:",e),n("Failed to toggle module","error")}},_=async o=>{try{await u.patch(`/admin/modules/${o.id}`,{required_level:o.required_level,order:o.order}),n("Module updated","success")}catch(e){console.error("Failed to update module:",e),n("Failed to update module","error")}};return y(()=>{p()}),(o,e)=>(d(),t("div",F,[s("div",{class:"modules-header"},[e[1]||(e[1]=s("h1",null,"ðŸŽ® Game Modules",-1)),s("button",{class:"btn-primary",onClick:p},[...e[0]||(e[0]=[s("span",null,"ðŸ”„",-1),k(" Refresh ",-1)])])]),r.value?(d(),t("div",V,"Loading modules...")):i.value.length===0?(d(),t("div",C,[...e[2]||(e[2]=[s("p",null,"No modules found.",-1)])])):(d(),t("div",$,[(d(!0),t(f,null,w(i.value,a=>(d(),t("div",{key:a.id,class:"module-card"},[s("div",x,[s("div",q,c(a.icon||"ðŸ“¦"),1),s("div",T,[s("h3",null,c(a.display_name||a.name),1),s("p",null,c(a.description),1)])]),s("div",U,[s("div",B,[e[3]||(e[3]=s("span",{class:"label"},"Required Level:",-1)),m(s("input",{"onUpdate:modelValue":l=>a.required_level=l,type:"number",min:"1",onChange:l=>_(a),class:"level-input"},null,40,L),[[g,a.required_level,void 0,{number:!0}]])]),s("div",N,[e[4]||(e[4]=s("span",{class:"label"},"Order:",-1)),m(s("input",{"onUpdate:modelValue":l=>a.order=l,type:"number",min:"0",onChange:l=>_(a),class:"order-input"},null,40,D),[[g,a.order,void 0,{number:!0}]])]),s("div",E,[e[6]||(e[6]=s("span",{class:"label"},"Status:",-1)),s("label",R,[s("input",{type:"checkbox",checked:a.enabled,onChange:l=>h(a)},null,40,S),e[5]||(e[5]=s("span",{class:"slider"},null,-1))])])])]))),128))]))]))}},O=b(A,[["__scopeId","data-v-8ad12536"]]);export{O as default};
