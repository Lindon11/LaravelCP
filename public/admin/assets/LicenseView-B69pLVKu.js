import{h as i,a as e,o as a,G as fe,e as ge,n as v,c as D,z as d,P as ye,V as he,t as l,b as x,a5 as J,l as m,k as b,v as h,d as p,j as se,a6 as we,m as Y,K as _e,H as ke,F as le,i as oe,D as Ce,S as R,x as _,g as r,q as je,y as Le,a7 as De}from"./index-VJuD4EV8.js";import{r as g}from"./CheckIcon-DpNFtRD-.js";import{r as $e}from"./XCircleIcon-CKNrlV2P.js";function Te(ae,y){return a(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h7.5c.621 0 1.125-.504 1.125-1.125m-9.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-7.5A1.125 1.125 0 0 1 12 18.375m9.75-12.75c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125m19.5 0v1.5c0 .621-.504 1.125-1.125 1.125M2.25 5.625v1.5c0 .621.504 1.125 1.125 1.125m0 0h17.25m-17.25 0h7.5c.621 0 1.125.504 1.125 1.125M3.375 8.25c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m17.25-3.75h-7.5c-.621 0-1.125.504-1.125 1.125m8.625-1.125c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M12 10.875v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125M13.125 12h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125M20.625 12c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5M12 14.625v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 14.625c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m0 1.5v-1.5m0 0c0-.621.504-1.125 1.125-1.125m0 0h7.5"})])}const Ve={class:"space-y-6"},Ue={class:"flex items-center justify-between"},Ke={class:"flex items-center gap-4"},Me={class:"text-xl font-bold text-white"},Ae={class:"text-sm text-slate-400"},Ne={key:0,class:"rounded-2xl bg-slate-800/50 backdrop-blur border border-slate-700/50 p-6"},Se={class:"flex items-center gap-3 mb-6"},Ee={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ze={class:"space-y-4"},Fe={class:"flex justify-between items-center py-3 border-b border-slate-700/50"},Be={class:"text-sm text-amber-400 bg-slate-900/50 px-3 py-1 rounded-lg font-mono"},Pe={class:"flex justify-between items-center py-3 border-b border-slate-700/50"},Ge={class:"text-sm text-white font-medium capitalize"},Re={class:"flex justify-between items-center py-3 border-b border-slate-700/50"},Ie={class:"text-sm text-white font-medium"},qe={class:"flex justify-between items-center py-3 border-b border-slate-700/50"},Oe={class:"text-sm text-white font-medium"},He={class:"space-y-4"},Je={class:"flex justify-between items-center py-3 border-b border-slate-700/50"},Ye={class:"text-sm text-white font-medium"},Qe={class:"flex justify-between items-center py-3 border-b border-slate-700/50"},We={class:"text-sm text-white font-medium"},Xe={class:"flex justify-between items-center py-3 border-b border-slate-700/50"},Ze={class:"flex justify-between items-center py-3 border-b border-slate-700/50"},et={class:"text-sm text-white font-medium"},tt={class:"mt-6 flex justify-end"},st={key:1,class:"rounded-2xl bg-slate-800/50 backdrop-blur border border-slate-700/50 p-6"},lt={class:"flex items-center gap-3 mb-6"},ot={class:"space-y-2"},at={key:0,class:"p-4 rounded-xl bg-red-500/10 border border-red-500/30 text-red-400 text-sm"},it=["disabled"],nt={key:0,class:"flex items-center gap-2"},rt={key:1},dt={key:2,class:"rounded-2xl bg-slate-800/50 backdrop-blur border border-indigo-500/30 p-6"},ut={class:"flex items-center gap-3 mb-2"},ct={class:"grid grid-cols-1 md:grid-cols-2 gap-5"},xt={class:"space-y-2"},mt={class:"space-y-2"},pt={class:"space-y-2"},vt={class:"space-y-2"},bt={class:"space-y-2"},ft={class:"flex gap-3"},gt={class:"space-y-2"},yt={class:"space-y-2"},ht={key:0,class:"p-4 rounded-xl bg-red-500/10 border border-red-500/30 text-red-400 text-sm"},wt=["disabled"],_t={key:0,class:"flex items-center gap-2"},kt={key:1},Ct={class:"rounded-2xl bg-slate-800/50 backdrop-blur border border-slate-700/50 p-6"},jt={class:"flex items-center gap-3 mb-6"},Lt={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Dt={class:"rounded-xl bg-slate-900/50 border border-slate-700/30 p-5"},$t={class:"space-y-2 text-sm text-slate-400"},Tt={class:"flex items-center gap-2"},Vt={class:"flex items-center gap-2"},Ut={class:"flex items-center gap-2"},Kt={class:"rounded-xl bg-slate-900/50 border border-amber-500/20 p-5 ring-1 ring-amber-500/20"},Mt={class:"space-y-2 text-sm text-slate-400"},At={class:"flex items-center gap-2"},Nt={class:"flex items-center gap-2"},St={class:"flex items-center gap-2"},Et={class:"rounded-xl bg-slate-900/50 border border-purple-500/20 p-5"},zt={class:"space-y-2 text-sm text-slate-400"},Ft={class:"flex items-center gap-2"},Bt={class:"flex items-center gap-2"},Pt={class:"flex items-center gap-2"},Gt={key:3,class:"rounded-2xl bg-slate-800/50 backdrop-blur border border-slate-700/50 p-6"},Rt={class:"flex items-center justify-between mb-6"},It={class:"flex items-center gap-3"},qt={key:0,class:"text-xs bg-slate-700 text-slate-300 px-2 py-0.5 rounded-full"},Ot={class:"flex items-center gap-3"},Ht={class:"relative"},Jt={key:0,class:"flex justify-center py-8"},Yt={key:1,class:"text-center py-12"},Qt={key:2,class:"overflow-x-auto"},Wt={class:"w-full text-sm"},Xt={class:"py-3 px-4"},Zt={class:"text-xs text-amber-400 bg-slate-900/50 px-2 py-0.5 rounded font-mono"},es={class:"py-3 px-4"},ts={class:"text-white font-medium"},ss={class:"text-xs text-slate-500"},ls={class:"py-3 px-4 text-slate-300 font-mono text-xs"},os={class:"py-3 px-4"},as={class:"py-3 px-4 text-slate-300 text-xs"},is={class:"py-3 px-4"},ns={class:"py-3 px-4 text-slate-400 text-xs"},rs={class:"py-3 px-4 text-right"},ds={class:"flex items-center justify-end gap-2"},us=["onClick"],cs=["onClick"],xs={key:0,class:"flex items-center justify-between mt-4 pt-4 border-t border-slate-700/50"},ms={class:"text-xs text-slate-400"},ps={class:"flex gap-1"},vs=["onClick"],bs={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},fs={class:"relative bg-slate-800 border border-slate-700 rounded-2xl p-6 max-w-lg w-full shadow-2xl"},gs={class:"flex items-center justify-between mb-4"},ys={class:"space-y-3 text-sm"},hs={class:"flex justify-between py-2 border-b border-slate-700/50"},ws={class:"text-amber-400 font-mono text-xs"},_s={class:"flex justify-between py-2 border-b border-slate-700/50"},ks={class:"text-slate-300 font-mono text-xs"},Cs={class:"flex justify-between py-2 border-b border-slate-700/50"},js={class:"text-white"},Ls={class:"flex justify-between py-2 border-b border-slate-700/50"},Ds={class:"text-white"},$s={class:"flex justify-between py-2 border-b border-slate-700/50"},Ts={class:"text-white font-mono text-xs"},Vs={class:"flex justify-between py-2 border-b border-slate-700/50"},Us={class:"text-white capitalize"},Ks={class:"flex justify-between py-2 border-b border-slate-700/50"},Ms={key:0,class:"flex justify-between py-2 border-b border-slate-700/50"},As={class:"text-white"},Ns={key:1,class:"flex justify-between py-2 border-b border-slate-700/50"},Ss={class:"text-white font-mono text-xs"},Es={key:2,class:"flex justify-between py-2 border-b border-slate-700/50"},zs={class:"text-white"},Fs={class:"py-2"},Bs={class:"flex justify-end gap-3 mt-4"},Ps=["disabled"],Gs={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},Rs={class:"relative bg-slate-800 border border-slate-700 rounded-2xl p-6 max-w-md w-full shadow-2xl"},Is={class:"text-sm text-slate-400 mb-1"},qs={class:"text-white font-medium"},Os={class:"flex gap-3 justify-end"},Hs=["disabled"],Js={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},Ys={class:"relative bg-slate-800 border border-slate-700 rounded-2xl p-6 max-w-md w-full shadow-2xl"},Qs={class:"flex gap-3 justify-end"},Ws=["disabled"],Xs={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},Zs={class:"relative bg-slate-800 border border-slate-700 rounded-2xl p-6 max-w-2xl w-full shadow-2xl"},el={class:"flex items-center gap-3 mb-4"},tl={class:"w-10 h-10 rounded-xl bg-emerald-500/20 flex items-center justify-center"},sl={class:"relative"},ll=["value"],ol={class:"flex justify-end mt-4"},rl={__name:"LicenseView",setup(ae){const{showToast:y}=Le(),Q=r(!0),k=r(""),$=r(!1),N=r(""),S=r(!1),T=r(!1),I=r(!1),V=r(!1),E=r(""),C=r(""),U=r(!1),u=r({domain:"*",tier:"standard",customer:"",email:"",expires:"lifetime",max_users:0,plugins:"all"}),z=r("lifetime"),q=r([]),O=r(!1),F=r(""),B=r(""),f=r({total:0,current_page:1,last_page:1,from:0,to:0}),c=r(null),K=r(""),P=r(!1),w=r(null),G=r(!1);let W=null;fe(z,o=>{o==="lifetime"&&(u.value.expires="lifetime")});const n=r({licensed:!1,can_generate:!1,key:"",tier:"",customer:"",email:"",domain:"",issued:null,expires:"never",max_users:"unlimited",plugins:"*"}),ie=je(()=>{if(!n.value.expires||n.value.expires==="never")return!1;const s=(new Date(n.value.expires)-new Date)/(1e3*60*60*24);return s>0&&s<=30}),M=o=>{if(!o||o==="never")return"Never";try{return new Date(o).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"})}catch{return o}},H=async()=>{Q.value=!0;try{const o=await _.get("/admin/license/status");n.value=o.data,I.value=o.data.can_generate||!1}catch(o){console.error("Failed to fetch license status:",o)}finally{Q.value=!1}},ne=async()=>{var o,t,s,A,ee,te;$.value=!0,N.value="";try{const L=await _.post("/admin/license/activate",{license_key:k.value.trim()});y(L.data.message||"License activated!","success"),k.value="",await H()}catch(L){console.error("Activate error:",(o=L.response)==null?void 0:o.status,(t=L.response)==null?void 0:t.data),N.value=((A=(s=L.response)==null?void 0:s.data)==null?void 0:A.error)||((te=(ee=L.response)==null?void 0:ee.data)==null?void 0:te.message)||"Failed to activate license. Please check your key."}finally{$.value=!1}},re=async()=>{S.value=!0;try{await _.delete("/admin/license/deactivate"),y("License deactivated.","info"),T.value=!1,await H()}catch{y("Failed to deactivate license.","error")}finally{S.value=!1}},de=async()=>{var o,t;V.value=!0,E.value="";try{const s=await _.post("/admin/license/generate",u.value);C.value=s.data.license_key,y("License key generated!","success"),await j(1),u.value={domain:"*",tier:"standard",customer:"",email:"",expires:"lifetime",max_users:0,plugins:"all"}}catch(s){E.value=((t=(o=s.response)==null?void 0:o.data)==null?void 0:t.error)||"Failed to generate license key."}finally{V.value=!1}},ue=async o=>{try{await navigator.clipboard.writeText(o),U.value=!0,setTimeout(()=>{U.value=!1},2e3)}catch{const t=document.createElement("textarea");t.value=o,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),U.value=!0,setTimeout(()=>{U.value=!1},2e3)}},j=async(o=1)=>{O.value=!0;try{const t={page:o};F.value&&(t.status=F.value),B.value&&(t.search=B.value);const s=await _.get("/admin/license/keys",{params:t});q.value=s.data.data||[],f.value={total:s.data.total||0,current_page:s.data.current_page||1,last_page:s.data.last_page||1,from:s.data.from||0,to:s.data.to||0}}catch(t){console.error("Failed to fetch keys:",t)}finally{O.value=!1}},ce=()=>{clearTimeout(W),W=setTimeout(()=>j(1),300)},xe=o=>({standard:"bg-blue-500/20 text-blue-400 border border-blue-500/30",extended:"bg-amber-500/20 text-amber-400 border border-amber-500/30",unlimited:"bg-purple-500/20 text-purple-400 border border-purple-500/30"})[o]||"bg-slate-500/20 text-slate-400 border border-slate-500/30",X=o=>({activated:"bg-emerald-500/10 text-emerald-400",pending:"bg-amber-500/10 text-amber-400",revoked:"bg-red-500/10 text-red-400"})[o]||"bg-slate-500/10 text-slate-400",Z=o=>({activated:"bg-emerald-400",pending:"bg-amber-400",revoked:"bg-red-400"})[o]||"bg-slate-400",me=o=>{c.value=o,K.value=o.notes||""},pe=async()=>{P.value=!0;try{await _.put(`/admin/license/keys/${c.value.id}`,{notes:K.value}),c.value.notes=K.value,y("Notes saved.","success")}catch{y("Failed to save notes.","error")}finally{P.value=!1}},ve=o=>{w.value=o},be=async()=>{G.value=!0;try{await _.post(`/admin/license/keys/${w.value.id}/revoke`),y(`Key for ${w.value.customer} revoked.`,"info"),w.value=null,await j(f.value.current_page)}catch{y("Failed to revoke key.","error")}finally{G.value=!1}};return ge(()=>{H(),j()}),(o,t)=>(a(),i("div",Ve,[e("div",{class:v(["rounded-2xl backdrop-blur border p-6",n.value.licensed?"bg-emerald-900/20 border-emerald-600/30":"bg-red-900/20 border-red-600/30"])},[e("div",Ue,[e("div",Ke,[e("div",{class:v(["w-14 h-14 rounded-xl flex items-center justify-center",n.value.licensed?"bg-emerald-500/20 text-emerald-400":"bg-red-500/20 text-red-400"])},[n.value.licensed?(a(),D(d(ye),{key:0,class:"w-8 h-8"})):(a(),D(d(he),{key:1,class:"w-8 h-8"}))],2),e("div",null,[e("h2",Me,l(n.value.licensed?"License Active":"No Valid License"),1),e("p",Ae,l(n.value.licensed?`Licensed to ${n.value.customer}`:"Enter your LaravelCP license key to activate."),1)])]),e("span",{class:v(["px-4 py-1.5 rounded-full text-sm font-semibold uppercase tracking-wide",n.value.licensed?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30":"bg-red-500/20 text-red-400 border border-red-500/30"])},l(n.value.licensed?n.value.tier:"Unlicensed"),3)])],2),n.value.licensed?(a(),i("div",Ne,[e("div",Se,[x(d(J),{class:"w-6 h-6 text-amber-400"}),t[23]||(t[23]=e("h3",{class:"text-lg font-semibold text-white"},"License Details",-1))]),e("div",Ee,[e("div",ze,[e("div",Fe,[t[24]||(t[24]=e("span",{class:"text-sm text-slate-400"},"License Key",-1)),e("code",Be,l(n.value.key),1)]),e("div",Pe,[t[25]||(t[25]=e("span",{class:"text-sm text-slate-400"},"Tier",-1)),e("span",Ge,l(n.value.tier),1)]),e("div",Re,[t[26]||(t[26]=e("span",{class:"text-sm text-slate-400"},"Customer",-1)),e("span",Ie,l(n.value.customer),1)]),e("div",qe,[t[27]||(t[27]=e("span",{class:"text-sm text-slate-400"},"Email",-1)),e("span",Oe,l(n.value.email),1)])]),e("div",He,[e("div",Je,[t[28]||(t[28]=e("span",{class:"text-sm text-slate-400"},"Domain",-1)),e("span",Ye,l(n.value.domain),1)]),e("div",Qe,[t[29]||(t[29]=e("span",{class:"text-sm text-slate-400"},"Issued",-1)),e("span",We,l(M(n.value.issued)),1)]),e("div",Xe,[t[30]||(t[30]=e("span",{class:"text-sm text-slate-400"},"Expires",-1)),e("span",{class:v(["text-sm font-medium",ie.value?"text-amber-400":"text-white"])},l(n.value.expires==="never"?"Never":M(n.value.expires)),3)]),e("div",Ze,[t[31]||(t[31]=e("span",{class:"text-sm text-slate-400"},"Max Users",-1)),e("span",et,l(n.value.max_users==="unlimited"?"Unlimited":n.value.max_users),1)])])]),e("div",tt,[e("button",{onClick:t[0]||(t[0]=s=>T.value=!0),class:"px-4 py-2 rounded-xl text-sm font-medium text-red-400 border border-red-500/30 hover:bg-red-500/10 transition-all"}," Deactivate License ")])])):m("",!0),n.value.licensed?m("",!0):(a(),i("div",st,[e("div",lt,[x(d(J),{class:"w-6 h-6 text-amber-400"}),t[32]||(t[32]=e("h3",{class:"text-lg font-semibold text-white"},"Activate License",-1))]),e("form",{onSubmit:se(ne,["prevent"]),class:"space-y-4"},[e("div",ot,[t[33]||(t[33]=e("label",{class:"block text-sm font-medium text-slate-300"},"License Key",-1)),b(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>k.value=s),type:"text",placeholder:"LCP-STANDARD-xxxxxxx-xxxxxxxx",class:"w-full px-4 py-3 bg-slate-900/50 border border-slate-600/50 rounded-xl text-white placeholder-slate-500 font-mono text-sm focus:outline-none focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500/50 transition-all"},null,512),[[h,k.value]]),t[34]||(t[34]=e("p",{class:"text-xs text-slate-400"},"Enter the license key you received when purchasing LaravelCP.",-1))]),N.value?(a(),i("div",at,l(N.value),1)):m("",!0),e("button",{type:"submit",disabled:!k.value||$.value,class:v(["px-6 py-3 rounded-xl text-sm font-semibold text-white transition-all",!k.value||$.value?"bg-slate-600 cursor-not-allowed opacity-50":"bg-gradient-to-r from-amber-500 to-orange-600 hover:shadow-lg hover:shadow-amber-500/25 hover:-translate-y-0.5"])},[$.value?(a(),i("span",nt,[...t[35]||(t[35]=[e("svg",{class:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})],-1),p(" Validating... ",-1)])])):(a(),i("span",rt,"Activate License"))],10,it)],32)])),I.value?(a(),i("div",dt,[e("div",ut,[x(d(we),{class:"w-6 h-6 text-indigo-400"}),t[36]||(t[36]=e("h3",{class:"text-lg font-semibold text-white"},"Generate License Key",-1)),t[37]||(t[37]=e("span",{class:"text-xs bg-indigo-500/20 text-indigo-400 px-2 py-0.5 rounded-full border border-indigo-500/30"},"Owner Only",-1))]),t[51]||(t[51]=e("p",{class:"text-sm text-slate-400 mb-6"},"Create a new license key for a customer. This section is only visible because the private signing key is present on this installation.",-1)),e("form",{onSubmit:se(de,["prevent"]),class:"space-y-5"},[e("div",ct,[e("div",xt,[t[38]||(t[38]=e("label",{class:"block text-sm font-medium text-slate-300"},[p("Customer Name "),e("span",{class:"text-red-400"},"*")],-1)),b(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>u.value.customer=s),type:"text",required:"",placeholder:"John Smith",class:"w-full px-4 py-3 bg-slate-900/50 border border-slate-600/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500/50 transition-all"},null,512),[[h,u.value.customer]])]),e("div",mt,[t[39]||(t[39]=e("label",{class:"block text-sm font-medium text-slate-300"},[p("Customer Email "),e("span",{class:"text-red-400"},"*")],-1)),b(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>u.value.email=s),type:"email",required:"",placeholder:"customer@example.com",class:"w-full px-4 py-3 bg-slate-900/50 border border-slate-600/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500/50 transition-all"},null,512),[[h,u.value.email]])]),e("div",pt,[t[40]||(t[40]=e("label",{class:"block text-sm font-medium text-slate-300"},"Domain",-1)),b(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>u.value.domain=s),type:"text",placeholder:"* (any domain)",class:"w-full px-4 py-3 bg-slate-900/50 border border-slate-600/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500/50 transition-all"},null,512),[[h,u.value.domain]]),t[41]||(t[41]=e("p",{class:"text-xs text-slate-500"},"Use * for any domain, or specify e.g. example.com, *.example.com",-1))]),e("div",vt,[t[43]||(t[43]=e("label",{class:"block text-sm font-medium text-slate-300"},"License Tier",-1)),b(e("select",{"onUpdate:modelValue":t[5]||(t[5]=s=>u.value.tier=s),class:"w-full px-4 py-3 bg-slate-900/50 border border-slate-600/50 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500/50 transition-all"},[...t[42]||(t[42]=[e("option",{value:"standard"},"Standard",-1),e("option",{value:"extended"},"Extended",-1),e("option",{value:"unlimited"},"Unlimited",-1)])],512),[[Y,u.value.tier]])]),e("div",bt,[t[45]||(t[45]=e("label",{class:"block text-sm font-medium text-slate-300"},"Expires",-1)),e("div",ft,[b(e("select",{"onUpdate:modelValue":t[6]||(t[6]=s=>z.value=s),class:"px-4 py-3 bg-slate-900/50 border border-slate-600/50 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500/50 transition-all"},[...t[44]||(t[44]=[e("option",{value:"lifetime"},"Lifetime",-1),e("option",{value:"date"},"Custom Date",-1)])],512),[[Y,z.value]]),z.value==="date"?b((a(),i("input",{key:0,"onUpdate:modelValue":t[7]||(t[7]=s=>u.value.expires=s),type:"date",class:"flex-1 px-4 py-3 bg-slate-900/50 border border-slate-600/50 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500/50 transition-all"},null,512)),[[h,u.value.expires]]):m("",!0)])]),e("div",gt,[t[46]||(t[46]=e("label",{class:"block text-sm font-medium text-slate-300"},"Max Users",-1)),b(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>u.value.max_users=s),type:"number",min:"0",placeholder:"0 = Unlimited",class:"w-full px-4 py-3 bg-slate-900/50 border border-slate-600/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500/50 transition-all"},null,512),[[h,u.value.max_users,void 0,{number:!0}]]),t[47]||(t[47]=e("p",{class:"text-xs text-slate-500"},"0 = Unlimited users",-1))])]),e("div",yt,[t[48]||(t[48]=e("label",{class:"block text-sm font-medium text-slate-300"},"Plugins",-1)),b(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>u.value.plugins=s),type:"text",placeholder:"all",class:"w-full px-4 py-3 bg-slate-900/50 border border-slate-600/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500/50 transition-all"},null,512),[[h,u.value.plugins]]),t[49]||(t[49]=e("p",{class:"text-xs text-slate-500"},'Use "all" for all plugins, or comma-separated list of plugin slugs',-1))]),E.value?(a(),i("div",ht,l(E.value),1)):m("",!0),e("button",{type:"submit",disabled:!u.value.customer||!u.value.email||V.value,class:v(["px-6 py-3 rounded-xl text-sm font-semibold text-white transition-all",!u.value.customer||!u.value.email||V.value?"bg-slate-600 cursor-not-allowed opacity-50":"bg-gradient-to-r from-indigo-500 to-purple-600 hover:shadow-lg hover:shadow-indigo-500/25 hover:-translate-y-0.5"])},[V.value?(a(),i("span",_t,[...t[50]||(t[50]=[e("svg",{class:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})],-1),p(" Generating... ",-1)])])):(a(),i("span",kt,"Generate License Key"))],10,wt)],32)])):m("",!0),e("div",Ct,[e("div",jt,[x(d(_e),{class:"w-6 h-6 text-amber-400"}),t[52]||(t[52]=e("h3",{class:"text-lg font-semibold text-white"},"License Tiers",-1))]),e("div",Lt,[e("div",Dt,[t[56]||(t[56]=e("div",{class:"flex items-center gap-2 mb-3"},[e("span",{class:"w-3 h-3 rounded-full bg-blue-400"}),e("h4",{class:"text-white font-semibold"},"Standard")],-1)),e("ul",$t,[e("li",Tt,[x(d(g),{class:"w-4 h-4 text-emerald-400 shrink-0"}),t[53]||(t[53]=p(" Single domain ",-1))]),e("li",Vt,[x(d(g),{class:"w-4 h-4 text-emerald-400 shrink-0"}),t[54]||(t[54]=p(" Core plugins ",-1))]),e("li",Ut,[x(d(g),{class:"w-4 h-4 text-emerald-400 shrink-0"}),t[55]||(t[55]=p(" Community support ",-1))])])]),e("div",Kt,[t[60]||(t[60]=e("div",{class:"flex items-center gap-2 mb-3"},[e("span",{class:"w-3 h-3 rounded-full bg-amber-400"}),e("h4",{class:"text-white font-semibold"},"Extended"),e("span",{class:"text-xs bg-amber-500/20 text-amber-400 px-2 py-0.5 rounded-full"},"Popular")],-1)),e("ul",Mt,[e("li",At,[x(d(g),{class:"w-4 h-4 text-emerald-400 shrink-0"}),t[57]||(t[57]=p(" Up to 5 domains ",-1))]),e("li",Nt,[x(d(g),{class:"w-4 h-4 text-emerald-400 shrink-0"}),t[58]||(t[58]=p(" All plugins included ",-1))]),e("li",St,[x(d(g),{class:"w-4 h-4 text-emerald-400 shrink-0"}),t[59]||(t[59]=p(" Priority support ",-1))])])]),e("div",Et,[t[64]||(t[64]=e("div",{class:"flex items-center gap-2 mb-3"},[e("span",{class:"w-3 h-3 rounded-full bg-purple-400"}),e("h4",{class:"text-white font-semibold"},"Unlimited")],-1)),e("ul",zt,[e("li",Ft,[x(d(g),{class:"w-4 h-4 text-emerald-400 shrink-0"}),t[61]||(t[61]=p(" Unlimited domains ",-1))]),e("li",Bt,[x(d(g),{class:"w-4 h-4 text-emerald-400 shrink-0"}),t[62]||(t[62]=p(" All plugins + future ",-1))]),e("li",Pt,[x(d(g),{class:"w-4 h-4 text-emerald-400 shrink-0"}),t[63]||(t[63]=p(" Dedicated support ",-1))])])])])]),I.value?(a(),i("div",Gt,[e("div",Rt,[e("div",It,[x(d(Te),{class:"w-6 h-6 text-indigo-400"}),t[65]||(t[65]=e("h3",{class:"text-lg font-semibold text-white"},"Generated Keys",-1)),f.value.total?(a(),i("span",qt,l(f.value.total),1)):m("",!0)]),e("div",Ot,[b(e("select",{"onUpdate:modelValue":t[10]||(t[10]=s=>F.value=s),onChange:t[11]||(t[11]=s=>j(1)),class:"px-3 py-2 bg-slate-900/50 border border-slate-600/50 rounded-xl text-sm text-white focus:outline-none focus:ring-2 focus:ring-indigo-500/50 transition-all"},[...t[66]||(t[66]=[e("option",{value:""},"All",-1),e("option",{value:"pending"},"Pending",-1),e("option",{value:"activated"},"Activated",-1),e("option",{value:"revoked"},"Revoked",-1)])],544),[[Y,F.value]]),e("div",Ht,[b(e("input",{"onUpdate:modelValue":t[12]||(t[12]=s=>B.value=s),onInput:ce,type:"text",placeholder:"Search...",class:"pl-9 pr-4 py-2 bg-slate-900/50 border border-slate-600/50 rounded-xl text-sm text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 transition-all w-48"},null,544),[[h,B.value]]),x(d(ke),{class:"w-4 h-4 text-slate-500 absolute left-3 top-1/2 -translate-y-1/2"})])])]),O.value?(a(),i("div",Jt,[...t[67]||(t[67]=[e("svg",{class:"animate-spin h-6 w-6 text-indigo-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})],-1)])])):q.value.length?(a(),i("div",Qt,[e("table",Wt,[t[69]||(t[69]=e("thead",null,[e("tr",{class:"border-b border-slate-700/50"},[e("th",{class:"text-left py-3 px-4 text-slate-400 font-medium"},"ID"),e("th",{class:"text-left py-3 px-4 text-slate-400 font-medium"},"Customer"),e("th",{class:"text-left py-3 px-4 text-slate-400 font-medium"},"Domain"),e("th",{class:"text-left py-3 px-4 text-slate-400 font-medium"},"Tier"),e("th",{class:"text-left py-3 px-4 text-slate-400 font-medium"},"Expires"),e("th",{class:"text-left py-3 px-4 text-slate-400 font-medium"},"Status"),e("th",{class:"text-left py-3 px-4 text-slate-400 font-medium"},"Created"),e("th",{class:"text-right py-3 px-4 text-slate-400 font-medium"},"Actions")])],-1)),e("tbody",null,[(a(!0),i(le,null,oe(q.value,s=>(a(),i("tr",{key:s.id,class:"border-b border-slate-700/30 hover:bg-slate-700/20 transition-colors"},[e("td",Xt,[e("code",Zt,l(s.license_id),1)]),e("td",es,[e("div",ts,l(s.customer),1),e("div",ss,l(s.email),1)]),e("td",ls,l(s.domain),1),e("td",os,[e("span",{class:v([xe(s.tier),"px-2 py-0.5 rounded-full text-xs font-semibold capitalize"])},l(s.tier),3)]),e("td",as,l(s.expires==="lifetime"?"Lifetime":M(s.expires)),1),e("td",is,[e("span",{class:v([X(s.status),"inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-semibold"])},[e("span",{class:v([Z(s.status),"w-1.5 h-1.5 rounded-full"])},null,2),p(" "+l(s.status),1)],2)]),e("td",ns,l(M(s.created_at)),1),e("td",rs,[e("div",ds,[s.is_revoked?m("",!0):(a(),i("button",{key:0,onClick:A=>me(s),class:"p-1.5 rounded-lg text-slate-400 hover:text-white hover:bg-slate-700/50 transition-all",title:"Details"},[x(d(De),{class:"w-4 h-4"})],8,us)),s.is_revoked?m("",!0):(a(),i("button",{key:1,onClick:A=>ve(s),class:"p-1.5 rounded-lg text-slate-400 hover:text-red-400 hover:bg-red-500/10 transition-all",title:"Revoke"},[x(d($e),{class:"w-4 h-4"})],8,cs))])])]))),128))])]),f.value.last_page>1?(a(),i("div",xs,[e("span",ms," Showing "+l(f.value.from)+"–"+l(f.value.to)+" of "+l(f.value.total),1),e("div",ps,[(a(!0),i(le,null,oe(f.value.last_page,s=>(a(),i("button",{key:s,onClick:A=>j(s),class:v(["w-8 h-8 rounded-lg text-xs font-medium transition-all",s===f.value.current_page?"bg-indigo-500 text-white":"text-slate-400 hover:bg-slate-700/50 hover:text-white"])},l(s),11,vs))),128))])])):m("",!0)])):(a(),i("div",Yt,[x(d(J),{class:"w-12 h-12 text-slate-600 mx-auto mb-3"}),t[68]||(t[68]=e("p",{class:"text-slate-400 text-sm"},"No license keys generated yet.",-1))]))])):m("",!0),(a(),D(R,{to:"body"},[c.value?(a(),i("div",bs,[e("div",{class:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t[13]||(t[13]=s=>c.value=null)}),e("div",fs,[e("div",gs,[t[70]||(t[70]=e("h3",{class:"text-lg font-bold text-white"},"Key Details",-1)),e("button",{onClick:t[14]||(t[14]=s=>c.value=null),class:"text-slate-400 hover:text-white transition-colors"},[x(d(Ce),{class:"w-5 h-5"})])]),e("div",ys,[e("div",hs,[t[71]||(t[71]=e("span",{class:"text-slate-400"},"License ID",-1)),e("code",ws,l(c.value.license_id),1)]),e("div",_s,[t[72]||(t[72]=e("span",{class:"text-slate-400"},"Key",-1)),e("code",ks,l(c.value.masked_key),1)]),e("div",Cs,[t[73]||(t[73]=e("span",{class:"text-slate-400"},"Customer",-1)),e("span",js,l(c.value.customer),1)]),e("div",Ls,[t[74]||(t[74]=e("span",{class:"text-slate-400"},"Email",-1)),e("span",Ds,l(c.value.email),1)]),e("div",$s,[t[75]||(t[75]=e("span",{class:"text-slate-400"},"Domain",-1)),e("span",Ts,l(c.value.domain),1)]),e("div",Vs,[t[76]||(t[76]=e("span",{class:"text-slate-400"},"Tier",-1)),e("span",Us,l(c.value.tier),1)]),e("div",Ks,[t[77]||(t[77]=e("span",{class:"text-slate-400"},"Status",-1)),e("span",{class:v([X(c.value.status),"inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-semibold"])},[e("span",{class:v([Z(c.value.status),"w-1.5 h-1.5 rounded-full"])},null,2),p(" "+l(c.value.status),1)],2)]),c.value.activated_domain?(a(),i("div",Ms,[t[78]||(t[78]=e("span",{class:"text-slate-400"},"Activated On",-1)),e("span",As,l(c.value.activated_domain),1)])):m("",!0),c.value.activated_ip?(a(),i("div",Ns,[t[79]||(t[79]=e("span",{class:"text-slate-400"},"Activated IP",-1)),e("span",Ss,l(c.value.activated_ip),1)])):m("",!0),c.value.activated_at?(a(),i("div",Es,[t[80]||(t[80]=e("span",{class:"text-slate-400"},"Activated At",-1)),e("span",zs,l(M(c.value.activated_at)),1)])):m("",!0),e("div",Fs,[t[81]||(t[81]=e("label",{class:"block text-slate-400 mb-2"},"Notes",-1)),b(e("textarea",{"onUpdate:modelValue":t[15]||(t[15]=s=>K.value=s),rows:"3",placeholder:"Add a note about this key...",class:"w-full px-3 py-2 bg-slate-900/50 border border-slate-600/50 rounded-xl text-white text-sm placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 transition-all resize-none"},null,512),[[h,K.value]])])]),e("div",Bs,[e("button",{onClick:pe,disabled:P.value,class:"px-4 py-2 rounded-xl text-sm font-medium text-white bg-indigo-500 hover:bg-indigo-600 transition-all"},l(P.value?"Saving...":"Save Notes"),9,Ps)])])])):m("",!0)])),(a(),D(R,{to:"body"},[w.value?(a(),i("div",Gs,[e("div",{class:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t[16]||(t[16]=s=>w.value=null)}),e("div",Rs,[t[84]||(t[84]=e("h3",{class:"text-lg font-bold text-white mb-2"},"Revoke License Key?",-1)),e("p",Is,[t[82]||(t[82]=p(" This will revoke the key for ",-1)),e("span",qs,l(w.value.customer),1),t[83]||(t[83]=p(". ",-1))]),t[85]||(t[85]=e("p",{class:"text-sm text-red-400 mb-6"}," Note: This only marks the key as revoked in your records. The key will still work on the customer's installation unless you update the key validation to check revocation status remotely. ",-1)),e("div",Os,[e("button",{onClick:t[17]||(t[17]=s=>w.value=null),class:"px-4 py-2 rounded-xl text-sm font-medium text-slate-300 border border-slate-600 hover:bg-slate-700/50 transition-all"}," Cancel "),e("button",{onClick:be,disabled:G.value,class:"px-4 py-2 rounded-xl text-sm font-medium text-white bg-red-600 hover:bg-red-700 transition-all"},l(G.value?"Revoking...":"Revoke Key"),9,Hs)])])])):m("",!0)])),(a(),D(R,{to:"body"},[T.value?(a(),i("div",Js,[e("div",{class:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t[18]||(t[18]=s=>T.value=!1)}),e("div",Ys,[t[86]||(t[86]=e("h3",{class:"text-lg font-bold text-white mb-2"},"Deactivate License?",-1)),t[87]||(t[87]=e("p",{class:"text-sm text-slate-400 mb-6"}," This will remove the license key from this installation. You can re-activate it at any time with a valid key. ",-1)),e("div",Qs,[e("button",{onClick:t[19]||(t[19]=s=>T.value=!1),class:"px-4 py-2 rounded-xl text-sm font-medium text-slate-300 border border-slate-600 hover:bg-slate-700/50 transition-all"}," Cancel "),e("button",{onClick:re,disabled:S.value,class:"px-4 py-2 rounded-xl text-sm font-medium text-white bg-red-600 hover:bg-red-700 transition-all"},l(S.value?"Removing...":"Deactivate"),9,Ws)])])])):m("",!0)])),(a(),D(R,{to:"body"},[C.value?(a(),i("div",Xs,[e("div",{class:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t[20]||(t[20]=s=>C.value="")}),e("div",Zs,[e("div",el,[e("div",tl,[x(d(g),{class:"w-6 h-6 text-emerald-400"})]),t[88]||(t[88]=e("h3",{class:"text-lg font-bold text-white"},"License Key Generated",-1))]),t[89]||(t[89]=e("p",{class:"text-sm text-slate-400 mb-4"}," Copy this key and send it to the customer. It will not be shown again. ",-1)),e("div",sl,[e("textarea",{readonly:"",value:C.value,rows:"4",class:"w-full px-4 py-3 bg-slate-900 border border-slate-600/50 rounded-xl text-amber-400 font-mono text-xs focus:outline-none resize-none"},null,8,ll),e("button",{onClick:t[21]||(t[21]=s=>ue(C.value)),class:"absolute top-2 right-2 px-3 py-1.5 rounded-lg text-xs font-medium bg-slate-700 text-slate-300 hover:bg-slate-600 transition-all"},l(U.value?"✓ Copied":"Copy"),1)]),e("div",ol,[e("button",{onClick:t[22]||(t[22]=s=>C.value=""),class:"px-4 py-2 rounded-xl text-sm font-medium text-white bg-gradient-to-r from-amber-500 to-orange-600 hover:shadow-lg hover:shadow-amber-500/25 transition-all"}," Done ")])])])):m("",!0)]))]))}};export{rl as default};
