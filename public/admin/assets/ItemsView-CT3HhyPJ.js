import{o as a,h as r,a as e,_ as se,Y as oe,e as ae,b as v,z as c,d as j,F as E,i as P,G as ne,k as d,v as b,s as re,t as u,l as h,c as N,D as de,j as ie,m as I,K as D,J as ue,x as $,g as p,q as ce,y as pe,n as R,U as me,Z as ve,I as be,$ as xe,a0 as fe,E as Z}from"./index-Bx-2J7IE.js";import{r as J}from"./PlusIcon-DNhDjr6O.js";import{r as L}from"./CubeIcon-D4lBXU8k.js";import{r as ge}from"./CheckCircleIcon-DbR-5i7t.js";import{r as ye}from"./PencilIcon-BsFg9xNn.js";function _e(q,x){return a(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"})])}function he(q,x){return a(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}const we={class:"space-y-6"},ke={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},Ce={class:"flex flex-wrap gap-2"},Ve=["onClick"],Ue={class:"relative max-w-md"},Ie={key:0,class:"rounded-2xl bg-slate-800/50 backdrop-blur border border-slate-700/50 p-6"},$e={key:1,class:"rounded-2xl bg-slate-800/50 backdrop-blur border border-slate-700/50 overflow-hidden"},Me={class:"overflow-x-auto"},Se={class:"w-full"},Te={class:"divide-y divide-slate-700/50"},Be={class:"px-6 py-4"},je={class:"flex items-center gap-3"},Ee={class:"w-12 h-12 rounded-lg bg-slate-700/50 border border-slate-600/50 flex items-center justify-center overflow-hidden"},Pe=["src","alt"],Ne={class:"text-sm font-medium text-white"},De={class:"text-xs text-slate-400 truncate max-w-[200px]"},Re={class:"px-6 py-4"},Le={class:"px-6 py-4 text-sm text-emerald-400 font-medium"},qe={class:"px-6 py-4 text-sm text-slate-300"},Ae={class:"px-6 py-4"},He={key:0,class:"inline-flex items-center gap-1 text-emerald-400"},Fe={key:1,class:"inline-flex items-center gap-1 text-slate-500"},ze={class:"px-6 py-4"},Ze={key:0,class:"text-xs text-slate-300"},Je={key:1,class:"text-slate-500"},We={class:"px-6 py-4"},Ge={class:"flex items-center justify-center gap-2"},Ke=["onClick"],Qe=["onClick"],Xe={key:0},Ye={colspan:"7",class:"px-6 py-12 text-center text-slate-400"},Oe={key:0,class:"px-6 py-4 border-t border-slate-700/50 flex items-center justify-between"},et={class:"text-sm text-slate-400"},tt={class:"flex items-center gap-2"},lt=["disabled"],st=["disabled"],ot={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},at={class:"flex items-center justify-center min-h-screen p-4"},nt={class:"relative bg-slate-800 border border-slate-700 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"},rt={class:"sticky top-0 bg-slate-800 border-b border-slate-700 p-6 flex items-center justify-between"},dt={class:"text-xl font-bold text-white"},it={class:"form-grid"},ut={class:"form-group full-width"},ct={class:"form-group full-width"},pt={class:"form-group"},mt={class:"form-group"},vt={class:"form-group"},bt={class:"form-group"},xt={class:"form-group"},ft={class:"form-group"},gt={class:"form-group"},yt={class:"checkbox-wrapper"},_t={class:"form-group"},ht={class:"checkbox-wrapper"},wt={class:"form-group"},kt={class:"checkbox-wrapper"},Ct={key:0,class:"mt-6 pt-6 border-t border-slate-700"},Vt={class:"flex items-center justify-between mb-4"},Ut={class:"space-y-3"},It={class:"flex-1 grid grid-cols-1 sm:grid-cols-4 gap-3"},$t=["onUpdate:modelValue"],Mt=["onUpdate:modelValue"],St=["onUpdate:modelValue"],Tt={class:"flex items-end"},Bt=["onClick"],jt={key:0,class:"text-slate-500 text-sm text-center py-4"},Et={class:"grid grid-cols-2 gap-4 mt-4"},Pt={class:"form-group"},Nt={class:"form-group"},Dt={class:"flex justify-end gap-3 mt-6 pt-6 border-t border-slate-700"},Rt=["disabled"],Lt={__name:"ItemsView",setup(q){const x=pe(),W=[{value:"all",label:"All Items",icon:L},{value:"weapon",label:"Weapons",icon:ve},{value:"armor",label:"Armor",icon:be},{value:"consumable",label:"Consumables",icon:xe},{value:"collectible",label:"Collectibles",icon:fe},{value:"misc",label:"Miscellaneous",icon:_e}],m=p("all"),M=p([]),w=p([]),S=p(!1),y=p(""),k=p(!1),f=p(null),C=p(!1),i=p(null),T=p(1),B={name:"",type:"misc",description:"",image:"",price:0,sell_price:0,tradeable:!0,stackable:!1,max_stack:1,rarity:"common",is_usable:!1,effects:[],cooldown:0,duration:0},s=p({...B}),G=()=>{s.value.effects||(s.value.effects=[]),s.value.effects.push({name:"heal",value:0,modifier_type:"flat"})},K=o=>{s.value.effects.splice(o,1)},A=ce(()=>{let o=M.value;if(m.value!=="all"&&(o=o.filter(t=>t.type===m.value)),y.value){const t=y.value.toLowerCase();o=o.filter(n=>n.name.toLowerCase().includes(t)||n.description&&n.description.toLowerCase().includes(t))}return o}),Q=o=>o==="all"?w.value.length:w.value.filter(t=>t.type===o).length,V=async(o=1)=>{S.value=!0;try{const t={page:o,per_page:100},n=await $.get("/admin/items",{params:t});n.data.data?(M.value=n.data.data,w.value=n.data.data,i.value={current_page:n.data.current_page,last_page:n.data.last_page,total:n.data.total,per_page:n.data.per_page||100}):(M.value=n.data,w.value=n.data)}catch(t){x.error("Failed to load items"),console.error(t)}finally{S.value=!1}};let H=null;const X=()=>{clearTimeout(H),H=setTimeout(()=>{},300)},Y=()=>{f.value=null,s.value={...B,type:m.value!=="all"?m.value:"misc"},k.value=!0},O=o=>{f.value=o,s.value={...o,effects:o.effects||[],is_usable:o.is_usable||!1,cooldown:o.cooldown||0,duration:o.duration||0},k.value=!0},U=()=>{k.value=!1,f.value=null,s.value={...B}},ee=async()=>{var o,t;C.value=!0;try{f.value?(await $.patch(`/admin/items/${f.value.id}`,s.value),x.success("Item updated successfully!")):(await $.post("/admin/items",s.value),x.success("Item created successfully!")),U(),V(T.value)}catch(n){x.error(((t=(o=n.response)==null?void 0:o.data)==null?void 0:t.message)||"Failed to save item")}finally{C.value=!1}},te=async o=>{var t,n;if(confirm(`Are you sure you want to delete "${o.name}"? This cannot be undone.`))try{await $.delete(`/admin/items/${o.id}`),x.success("Item deleted successfully!"),V(T.value)}catch(l){x.error(((n=(t=l.response)==null?void 0:t.data)==null?void 0:n.message)||"Failed to delete item")}},F=o=>{T.value=o,V(o)},z=o=>(o==null?void 0:o.toLocaleString())||"0",le=o=>{const t={common:"bg-slate-500/20 text-slate-300",uncommon:"bg-emerald-500/20 text-emerald-400",rare:"bg-blue-500/20 text-blue-400",epic:"bg-purple-500/20 text-purple-400",legendary:"bg-amber-500/20 text-amber-400"};return t[o]||t.common};return oe(m,()=>{y.value=""}),ae(()=>{V()}),(o,t)=>{var n;return a(),r("div",we,[e("div",ke,[t[17]||(t[17]=e("div",null,[e("h1",{class:"text-2xl font-bold text-white"},"Item Management"),e("p",{class:"text-slate-400 mt-1"},"Manage game items by category")],-1)),e("button",{onClick:Y,class:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-gradient-to-r from-amber-500 to-orange-600 text-white font-medium hover:from-amber-600 hover:to-orange-700 transition-all shadow-lg shadow-amber-500/25"},[v(c(J),{class:"w-5 h-5"}),t[16]||(t[16]=j(" Create Item ",-1))])]),e("div",Ce,[(a(),r(E,null,P(W,l=>e("button",{key:l.value,onClick:_=>m.value=l.value,class:R(["px-4 py-2.5 rounded-xl font-medium transition-all flex items-center gap-2",m.value===l.value?"bg-gradient-to-r from-amber-500 to-orange-600 text-white shadow-lg shadow-amber-500/25":"bg-slate-800/50 text-slate-300 hover:bg-slate-700/50 border border-slate-700/50"])},[(a(),N(me(l.icon),{class:"w-5 h-5"})),j(" "+u(l.label)+" ",1),e("span",{class:R(["px-2 py-0.5 rounded-full text-xs font-semibold",m.value===l.value?"bg-white/20":"bg-slate-700"])},u(Q(l.value)),3)],10,Ve)),64))]),e("div",Ue,[v(c(ne),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),d(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>y.value=l),onInput:X,type:"text",placeholder:"Search items...",class:"w-full pl-10 pr-4 py-3 bg-slate-800/50 border border-slate-700/50 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500/50 transition-all"},null,544),[[b,y.value]])]),S.value?(a(),r("div",Ie,[...t[18]||(t[18]=[re('<div class="animate-pulse space-y-4" data-v-7cf40796><div class="h-10 bg-slate-700/50 rounded-lg w-full" data-v-7cf40796></div><div class="h-16 bg-slate-700/50 rounded-lg w-full" data-v-7cf40796></div><div class="h-16 bg-slate-700/50 rounded-lg w-full" data-v-7cf40796></div><div class="h-16 bg-slate-700/50 rounded-lg w-full" data-v-7cf40796></div></div>',1)])])):(a(),r("div",$e,[e("div",Me,[e("table",Se,[t[19]||(t[19]=e("thead",{class:"bg-slate-700/50 border-b border-slate-600/50"},[e("tr",null,[e("th",{class:"px-6 py-4 text-left text-sm font-semibold text-slate-300"},"Item"),e("th",{class:"px-6 py-4 text-left text-sm font-semibold text-slate-300"},"Rarity"),e("th",{class:"px-6 py-4 text-left text-sm font-semibold text-slate-300"},"Price"),e("th",{class:"px-6 py-4 text-left text-sm font-semibold text-slate-300"},"Sell Price"),e("th",{class:"px-6 py-4 text-left text-sm font-semibold text-slate-300"},"Tradeable"),e("th",{class:"px-6 py-4 text-left text-sm font-semibold text-slate-300"},"Stackable"),e("th",{class:"px-6 py-4 text-center text-sm font-semibold text-slate-300"},"Actions")])],-1)),e("tbody",Te,[(a(!0),r(E,null,P(A.value,l=>(a(),r("tr",{key:l.id,class:"hover:bg-slate-700/25 transition-colors"},[e("td",Be,[e("div",je,[e("div",Ee,[l.image?(a(),r("img",{key:0,src:l.image,alt:l.name,class:"w-full h-full object-cover"},null,8,Pe)):(a(),N(c(L),{key:1,class:"w-6 h-6 text-slate-500"}))]),e("div",null,[e("p",Ne,u(l.name),1),e("p",De,u(l.description),1)])])]),e("td",Re,[e("span",{class:R([le(l.rarity),"px-2.5 py-1 rounded-lg text-xs font-semibold capitalize"])},u(l.rarity),3)]),e("td",Le,"$"+u(z(l.price)),1),e("td",qe,"$"+u(z(l.sell_price||0)),1),e("td",Ae,[l.tradeable?(a(),r("span",He,[v(c(ge),{class:"w-5 h-5"})])):(a(),r("span",Fe,[v(c(he),{class:"w-5 h-5"})]))]),e("td",ze,[l.stackable?(a(),r("span",Ze," Max: "+u(l.max_stack||1),1)):(a(),r("span",Je,"â€”"))]),e("td",We,[e("div",Ge,[e("button",{onClick:_=>O(l),class:"p-2 rounded-lg bg-amber-500/20 text-amber-400 hover:bg-amber-500/30 transition-colors"},[v(c(ye),{class:"w-4 h-4"})],8,Ke),e("button",{onClick:_=>te(l),class:"p-2 rounded-lg bg-red-500/20 text-red-400 hover:bg-red-500/30 transition-colors"},[v(c(Z),{class:"w-4 h-4"})],8,Qe)])])]))),128)),A.value.length?h("",!0):(a(),r("tr",Xe,[e("td",Ye,[v(c(L),{class:"w-12 h-12 mx-auto mb-3 opacity-50"}),e("p",null,"No "+u(m.value==="all"?"items":m.value+" items")+" found",1)])]))])])]),i.value&&i.value.last_page>1?(a(),r("div",Oe,[e("p",et," Showing "+u((i.value.current_page-1)*i.value.per_page+1)+" to "+u(Math.min(i.value.current_page*i.value.per_page,i.value.total))+" of "+u(i.value.total)+" items ",1),e("div",tt,[e("button",{onClick:t[1]||(t[1]=l=>F(i.value.current_page-1)),disabled:i.value.current_page<=1,class:"px-3 py-1.5 rounded-lg bg-slate-700/50 text-slate-300 hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed"}," Previous ",8,lt),e("button",{onClick:t[2]||(t[2]=l=>F(i.value.current_page+1)),disabled:i.value.current_page>=i.value.last_page,class:"px-3 py-1.5 rounded-lg bg-slate-700/50 text-slate-300 hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed"}," Next ",8,st)])])):h("",!0)])),(a(),N(ue,{to:"body"},[k.value?(a(),r("div",ot,[e("div",at,[e("div",{class:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:U}),e("div",nt,[e("div",rt,[e("h2",dt,u(f.value?"Edit":"Create")+" Item",1),e("button",{onClick:U,class:"text-slate-400 hover:text-white transition-colors"},[v(c(de),{class:"w-6 h-6"})])]),e("form",{onSubmit:ie(ee,["prevent"]),class:"p-6"},[e("div",it,[e("div",ut,[t[20]||(t[20]=e("label",null,"Name *",-1)),d(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>s.value.name=l),type:"text",required:"",placeholder:"e.g. Bulletproof Vest"},null,512),[[b,s.value.name]])]),e("div",ct,[t[21]||(t[21]=e("label",null,"Description *",-1)),d(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=l=>s.value.description=l),required:"",rows:"3",placeholder:"Item description..."},null,512),[[b,s.value.description]])]),e("div",pt,[t[23]||(t[23]=e("label",null,"Type *",-1)),d(e("select",{"onUpdate:modelValue":t[5]||(t[5]=l=>s.value.type=l),required:""},[...t[22]||(t[22]=[e("option",{value:"weapon"},"Weapon",-1),e("option",{value:"armor"},"Armor",-1),e("option",{value:"consumable"},"Consumable",-1),e("option",{value:"collectible"},"Collectible",-1),e("option",{value:"misc"},"Miscellaneous",-1)])],512),[[I,s.value.type]])]),e("div",mt,[t[25]||(t[25]=e("label",null,"Rarity *",-1)),d(e("select",{"onUpdate:modelValue":t[6]||(t[6]=l=>s.value.rarity=l),required:""},[...t[24]||(t[24]=[e("option",{value:"common"},"Common",-1),e("option",{value:"uncommon"},"Uncommon",-1),e("option",{value:"rare"},"Rare",-1),e("option",{value:"epic"},"Epic",-1),e("option",{value:"legendary"},"Legendary",-1)])],512),[[I,s.value.rarity]])]),e("div",vt,[t[26]||(t[26]=e("label",null,"Price *",-1)),d(e("input",{"onUpdate:modelValue":t[7]||(t[7]=l=>s.value.price=l),type:"number",min:"0",required:""},null,512),[[b,s.value.price,void 0,{number:!0}]])]),e("div",bt,[t[27]||(t[27]=e("label",null,"Sell Price",-1)),d(e("input",{"onUpdate:modelValue":t[8]||(t[8]=l=>s.value.sell_price=l),type:"number",min:"0"},null,512),[[b,s.value.sell_price,void 0,{number:!0}]])]),e("div",xt,[t[28]||(t[28]=e("label",null,"Max Stack",-1)),d(e("input",{"onUpdate:modelValue":t[9]||(t[9]=l=>s.value.max_stack=l),type:"number",min:"1"},null,512),[[b,s.value.max_stack,void 0,{number:!0}]])]),e("div",ft,[t[29]||(t[29]=e("label",null,"Image URL",-1)),d(e("input",{"onUpdate:modelValue":t[10]||(t[10]=l=>s.value.image=l),type:"text",placeholder:"https://..."},null,512),[[b,s.value.image]])]),e("div",gt,[e("div",yt,[d(e("input",{"onUpdate:modelValue":t[11]||(t[11]=l=>s.value.tradeable=l),type:"checkbox",id:"tradeable-checkbox"},null,512),[[D,s.value.tradeable]]),t[30]||(t[30]=e("label",{for:"tradeable-checkbox"},"Tradeable",-1))])]),e("div",_t,[e("div",ht,[d(e("input",{"onUpdate:modelValue":t[12]||(t[12]=l=>s.value.stackable=l),type:"checkbox",id:"stackable-checkbox"},null,512),[[D,s.value.stackable]]),t[31]||(t[31]=e("label",{for:"stackable-checkbox"},"Stackable",-1))])]),e("div",wt,[e("div",kt,[d(e("input",{"onUpdate:modelValue":t[13]||(t[13]=l=>s.value.is_usable=l),type:"checkbox",id:"usable-checkbox"},null,512),[[D,s.value.is_usable]]),t[32]||(t[32]=e("label",{for:"usable-checkbox"},"Can Be Used (Consumable)",-1))])])]),s.value.is_usable?(a(),r("div",Ct,[e("div",Vt,[t[34]||(t[34]=e("h3",{class:"text-lg font-semibold text-white"},"Item Effects",-1)),e("button",{type:"button",onClick:G,class:"px-3 py-1.5 rounded-lg bg-slate-700 text-slate-300 hover:bg-slate-600 transition-colors text-sm flex items-center gap-2"},[v(c(J),{class:"w-4 h-4"}),t[33]||(t[33]=j(" Add Effect ",-1))])]),e("div",Ut,[(a(!0),r(E,null,P(s.value.effects,(l,_)=>(a(),r("div",{key:_,class:"flex items-start gap-3 p-4 bg-slate-900/50 rounded-lg border border-slate-700"},[e("div",It,[e("div",null,[t[36]||(t[36]=e("label",{class:"text-xs text-slate-400"},"Effect Type",-1)),d(e("select",{"onUpdate:modelValue":g=>l.name=g,class:"w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded-lg text-white text-sm"},[...t[35]||(t[35]=[e("option",{value:"heal"},"Heal (HP)",-1),e("option",{value:"heal_percent"},"Heal % (HP)",-1),e("option",{value:"restore_energy"},"Restore Energy",-1),e("option",{value:"boost_strength"},"Strength Boost",-1),e("option",{value:"boost_defense"},"Defense Boost",-1),e("option",{value:"boost_speed"},"Speed Boost",-1),e("option",{value:"boost_damage"},"Damage Boost %",-1),e("option",{value:"reduce_cooldown"},"Cooldown Reduction %",-1),e("option",{value:"experience_boost"},"XP Boost %",-1),e("option",{value:"money_boost"},"Money Boost %",-1),e("option",{value:"crime_success"},"Crime Success %",-1),e("option",{value:"jail_reduction"},"Jail Reduction %",-1),e("option",{value:"revive"},"Revive from Hospital",-1)])],8,$t),[[I,l.name]])]),e("div",null,[t[37]||(t[37]=e("label",{class:"text-xs text-slate-400"},"Value",-1)),d(e("input",{"onUpdate:modelValue":g=>l.value=g,type:"number",min:"0",class:"w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded-lg text-white text-sm",placeholder:"e.g. 50"},null,8,Mt),[[b,l.value,void 0,{number:!0}]])]),e("div",null,[t[39]||(t[39]=e("label",{class:"text-xs text-slate-400"},"Modifier",-1)),d(e("select",{"onUpdate:modelValue":g=>l.modifier_type=g,class:"w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded-lg text-white text-sm"},[...t[38]||(t[38]=[e("option",{value:"flat"},"Flat Value",-1),e("option",{value:"percent"},"Percentage",-1)])],8,St),[[I,l.modifier_type]])]),e("div",Tt,[e("button",{type:"button",onClick:g=>K(_),class:"px-3 py-2 rounded-lg bg-red-500/20 text-red-400 hover:bg-red-500/30 transition-colors"},[v(c(Z),{class:"w-4 h-4"})],8,Bt)])])]))),128)),(n=s.value.effects)!=null&&n.length?h("",!0):(a(),r("p",jt,' No effects added. Click "Add Effect" to add one. '))]),e("div",Et,[e("div",Pt,[t[40]||(t[40]=e("label",null,"Cooldown (seconds)",-1)),d(e("input",{"onUpdate:modelValue":t[14]||(t[14]=l=>s.value.cooldown=l),type:"number",min:"0",placeholder:"e.g. 300 (5 min)"},null,512),[[b,s.value.cooldown,void 0,{number:!0}]])]),e("div",Nt,[t[41]||(t[41]=e("label",null,"Duration (seconds, 0 = instant)",-1)),d(e("input",{"onUpdate:modelValue":t[15]||(t[15]=l=>s.value.duration=l),type:"number",min:"0",placeholder:"e.g. 3600 (1 hour)"},null,512),[[b,s.value.duration,void 0,{number:!0}]])])])])):h("",!0),e("div",Dt,[e("button",{type:"button",onClick:U,class:"px-4 py-2 rounded-lg bg-slate-700 text-slate-300 hover:bg-slate-600 transition-colors"}," Cancel "),e("button",{type:"submit",disabled:C.value,class:"px-4 py-2 rounded-lg bg-gradient-to-r from-amber-500 to-orange-600 text-white font-medium hover:from-amber-600 hover:to-orange-700 transition-all disabled:opacity-50"},u(C.value?"Saving...":f.value?"Update":"Create"),9,Rt)])],32)])])])):h("",!0)]))])}}},Zt=se(Lt,[["__scopeId","data-v-7cf40796"]]);export{Zt as default};
