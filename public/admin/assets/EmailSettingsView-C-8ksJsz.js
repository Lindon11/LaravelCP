import{e as J,f as y,h as m,a as t,n as E,k as o,a3 as L,v as i,d as w,l as g,m as q,X as z,t as b,j as I,F as Q,i as Z,g as u,q as ee,o as p}from"./index-BpSau4Yr.js";const te={class:"space-y-6"},se={class:"border-b border-gray-700"},ae={class:"-mb-px flex space-x-8"},le={key:0,class:"bg-gray-800 rounded-lg p-6"},re={class:"flex space-x-4"},oe={class:"inline-flex items-center"},de={class:"inline-flex items-center"},ne={key:0,class:"space-y-4 p-4 bg-gray-900 rounded-lg"},ie={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ue={class:"block text-sm font-medium text-gray-300 mb-1"},me={key:0,class:"text-green-400 text-xs ml-2"},pe=["placeholder"],be={key:1,class:"space-y-4 p-4 bg-gray-900 rounded-lg"},ge={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ce={class:"block text-sm font-medium text-gray-300 mb-1"},ye={key:0,class:"text-green-400 text-xs ml-2"},xe=["placeholder"],ve={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},fe={class:"flex items-center justify-between p-4 bg-gray-900 rounded-lg"},we={class:"relative inline-flex items-center cursor-pointer"},he={key:2,class:"flex items-center space-x-2 text-sm"},ke={class:"text-gray-500"},_e={class:"flex items-center space-x-4 pt-4 border-t border-gray-700"},Te=["disabled"],Se=["disabled"],Ce={key:1,class:"space-y-4"},Ue={class:"flex justify-between items-center"},Ve=["disabled"],$e={class:"bg-gray-800 rounded-lg overflow-hidden"},je={class:"w-full"},Ee={class:"divide-y divide-gray-700"},Me={class:"px-4 py-3 text-white"},Pe={class:"px-4 py-3 text-gray-400 font-mono text-sm"},De={class:"px-4 py-3 text-gray-300 text-sm"},Fe={class:"px-4 py-3"},Ae={class:"px-4 py-3 text-right space-x-2"},Ne=["onClick"],Be=["onClick"],Le=["onClick"],qe={key:0},ze={key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Ie={class:"bg-gray-800 rounded-lg p-6 w-full max-w-md"},We={class:"mb-4"},Oe={class:"flex justify-end space-x-3"},Re=["disabled"],He={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},Ge={class:"bg-gray-800 rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto"},Ke={class:"text-lg font-medium text-white mb-4"},Xe={class:"grid grid-cols-2 gap-4"},Ye={class:"text-xs text-gray-500 mt-1"},Je={class:"bg-gray-700 px-1 rounded"},Qe={class:"flex items-center"},Ze={class:"relative inline-flex items-center cursor-pointer"},et={class:"flex justify-end space-x-3 pt-4 border-t border-gray-700"},tt=["disabled"],st={key:4,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},at={class:"bg-gray-800 rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col"},lt={class:"flex justify-between items-center mb-4"},rt={class:"mb-2 text-sm text-gray-400"},ot={class:"flex-1 overflow-auto bg-white rounded-lg"},dt=["srcdoc"],nt={class:"mt-4 flex justify-end space-x-3"},it={key:5,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60]"},ut={class:"bg-gray-800 rounded-lg p-6 w-full max-w-md"},mt={class:"mb-4"},pt={class:"flex justify-end space-x-3"},bt=["disabled"],yt={__name:"EmailSettingsView",setup(gt){const x=u("settings"),h=u(!1),k=u(!1),_=u(!1),T=u(!1),S=u(!1),C=u(!1),U=u(!1),M=u(!1),V=u(!1),v=u(""),f=u(""),$=u(null),P=u(null),a=u({id:null,mailer:"mailgun",host:"",port:587,username:"",password:"",encryption:"tls",from_address:"",from_name:"",mailgun_domain:"",mailgun_secret:"",mailgun_endpoint:"api.mailgun.net",is_active:!1,has_password:!1,has_mailgun_secret:!1,last_tested_at:null,test_successful:null}),D=u([]),d=u({id:null,slug:"",name:"",subject:"",body_html:"",body_text:"",description:"",is_active:!0,available_variables:[]}),A=ee({get:()=>(d.value.available_variables||[]).join(", "),set:l=>{d.value.available_variables=l.split(",").map(e=>e.trim()).filter(e=>e)}}),c="/api";J(()=>{F(),j()});async function F(){try{const l=await y.get(`${c}/admin/email/settings`);l.data.success&&Object.assign(a.value,l.data.data)}catch(l){console.error("Failed to load email settings:",l)}}async function j(){try{const l=await y.get(`${c}/admin/email/templates`);l.data.success&&(D.value=l.data.data)}catch(l){console.error("Failed to load templates:",l)}}async function W(){var l,e;h.value=!0;try{(await y.post(`${c}/admin/email/settings`,a.value)).data.success&&(alert("Email settings saved successfully"),await F())}catch(r){alert(((e=(l=r.response)==null?void 0:l.data)==null?void 0:e.message)||"Failed to save settings")}finally{h.value=!1}}async function O(){var l,e;if(v.value){k.value=!0;try{const r=await y.post(`${c}/admin/email/settings/test`,{test_email:v.value});r.data.success&&(alert(r.data.message),C.value=!1,v.value="",await F())}catch(r){alert(((e=(l=r.response)==null?void 0:l.data)==null?void 0:e.message)||"Failed to send test email")}finally{k.value=!1}}}async function R(){var l,e;_.value=!0;try{const r=await y.post(`${c}/admin/email/templates/seed-defaults`);r.data.success&&(alert(r.data.message),await j())}catch(r){alert(((e=(l=r.response)==null?void 0:l.data)==null?void 0:e.message)||"Failed to create default templates")}finally{_.value=!1}}function N(l=null){l?d.value={...l}:d.value={id:null,slug:"",name:"",subject:"",body_html:"",body_text:"",description:"",is_active:!0,available_variables:[]},U.value=!0}async function H(){var l,e;T.value=!0;try{const r={...d.value};let n;r.id?n=await y.patch(`${c}/admin/email/templates/${r.id}`,r):n=await y.post(`${c}/admin/email/templates`,r),n.data.success&&(alert(n.data.message),U.value=!1,await j())}catch(r){alert(((e=(l=r.response)==null?void 0:l.data)==null?void 0:e.message)||"Failed to save template")}finally{T.value=!1}}async function G(l){var e,r;P.value=l;try{const n=await y.post(`${c}/admin/email/templates/${l.id}/preview`);n.data.success&&($.value=n.data.data,M.value=!0)}catch(n){alert(((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||"Failed to preview template")}}async function K(){var l,e;if(!(!f.value||!P.value)){S.value=!0;try{const r=await y.post(`${c}/admin/email/templates/${P.value.id}/test`,{test_email:f.value});r.data.success&&(alert(r.data.message),V.value=!1,f.value="")}catch(r){alert(((e=(l=r.response)==null?void 0:l.data)==null?void 0:e.message)||"Failed to send test email")}finally{S.value=!1}}}function X(l){confirm(`Are you sure you want to delete "${l.name}"?`)&&Y(l.id)}async function Y(l){var e,r;try{const n=await y.delete(`${c}/admin/email/templates/${l}`);n.data.success&&(alert(n.data.message),await j())}catch(n){alert(((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||"Failed to delete template")}}return(l,e)=>{var r,n;return p(),m("div",te,[e[70]||(e[70]=t("div",{class:"flex justify-between items-center"},[t("div",null,[t("h1",{class:"text-2xl font-bold text-white"},"Email Settings"),t("p",{class:"text-gray-400 mt-1"},"Configure email delivery and manage templates")])],-1)),t("div",se,[t("nav",ae,[t("button",{onClick:e[0]||(e[0]=s=>x.value="settings"),class:E([x.value==="settings"?"border-amber-500 text-amber-500":"border-transparent text-gray-400 hover:text-gray-300 hover:border-gray-300","whitespace-nowrap pb-4 px-1 border-b-2 font-medium text-sm"])}," Settings ",2),t("button",{onClick:e[1]||(e[1]=s=>x.value="templates"),class:E([x.value==="templates"?"border-amber-500 text-amber-500":"border-transparent text-gray-400 hover:text-gray-300 hover:border-gray-300","whitespace-nowrap pb-4 px-1 border-b-2 font-medium text-sm"])}," Templates ",2)])]),x.value==="settings"?(p(),m("div",le,[t("form",{onSubmit:I(W,["prevent"]),class:"space-y-6"},[t("div",null,[e[34]||(e[34]=t("label",{class:"block text-sm font-medium text-gray-300 mb-2"},"Email Provider",-1)),t("div",re,[t("label",oe,[o(t("input",{type:"radio","onUpdate:modelValue":e[2]||(e[2]=s=>a.value.mailer=s),value:"mailgun",class:"form-radio text-amber-500 bg-gray-700 border-gray-600"},null,512),[[L,a.value.mailer]]),e[32]||(e[32]=t("span",{class:"ml-2 text-gray-300"},"Mailgun",-1))]),t("label",de,[o(t("input",{type:"radio","onUpdate:modelValue":e[3]||(e[3]=s=>a.value.mailer=s),value:"smtp",class:"form-radio text-amber-500 bg-gray-700 border-gray-600"},null,512),[[L,a.value.mailer]]),e[33]||(e[33]=t("span",{class:"ml-2 text-gray-300"},"SMTP",-1))])])]),a.value.mailer==="mailgun"?(p(),m("div",ne,[e[39]||(e[39]=t("h3",{class:"text-lg font-medium text-white"},"Mailgun Configuration",-1)),t("div",ie,[t("div",null,[e[35]||(e[35]=t("label",{class:"block text-sm font-medium text-gray-300 mb-1"},"Domain",-1)),o(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>a.value.mailgun_domain=s),type:"text",placeholder:"mg.yourdomain.com",class:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:ring-amber-500 focus:border-amber-500"},null,512),[[i,a.value.mailgun_domain]])]),t("div",null,[t("label",ue,[e[36]||(e[36]=w(" API Key ",-1)),a.value.has_mailgun_secret?(p(),m("span",me,"(saved)")):g("",!0)]),o(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>a.value.mailgun_secret=s),type:"password",placeholder:a.value.has_mailgun_secret?"••••••••":"Enter API key",class:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:ring-amber-500 focus:border-amber-500"},null,8,pe),[[i,a.value.mailgun_secret]])]),t("div",null,[e[38]||(e[38]=t("label",{class:"block text-sm font-medium text-gray-300 mb-1"},"Endpoint",-1)),o(t("select",{"onUpdate:modelValue":e[6]||(e[6]=s=>a.value.mailgun_endpoint=s),class:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white focus:ring-amber-500 focus:border-amber-500"},[...e[37]||(e[37]=[t("option",{value:"api.mailgun.net"},"US Region (api.mailgun.net)",-1),t("option",{value:"api.eu.mailgun.net"},"EU Region (api.eu.mailgun.net)",-1)])],512),[[q,a.value.mailgun_endpoint]])])])])):g("",!0),a.value.mailer==="smtp"?(p(),m("div",be,[e[46]||(e[46]=t("h3",{class:"text-lg font-medium text-white"},"SMTP Configuration",-1)),t("div",ge,[t("div",null,[e[40]||(e[40]=t("label",{class:"block text-sm font-medium text-gray-300 mb-1"},"Host",-1)),o(t("input",{"onUpdate:modelValue":e[7]||(e[7]=s=>a.value.host=s),type:"text",placeholder:"smtp.example.com",class:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:ring-amber-500 focus:border-amber-500"},null,512),[[i,a.value.host]])]),t("div",null,[e[41]||(e[41]=t("label",{class:"block text-sm font-medium text-gray-300 mb-1"},"Port",-1)),o(t("input",{"onUpdate:modelValue":e[8]||(e[8]=s=>a.value.port=s),type:"number",placeholder:"587",class:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:ring-amber-500 focus:border-amber-500"},null,512),[[i,a.value.port,void 0,{number:!0}]])]),t("div",null,[e[42]||(e[42]=t("label",{class:"block text-sm font-medium text-gray-300 mb-1"},"Username",-1)),o(t("input",{"onUpdate:modelValue":e[9]||(e[9]=s=>a.value.username=s),type:"text",class:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:ring-amber-500 focus:border-amber-500"},null,512),[[i,a.value.username]])]),t("div",null,[t("label",ce,[e[43]||(e[43]=w(" Password ",-1)),a.value.has_password?(p(),m("span",ye,"(saved)")):g("",!0)]),o(t("input",{"onUpdate:modelValue":e[10]||(e[10]=s=>a.value.password=s),type:"password",placeholder:a.value.has_password?"••••••••":"Enter password",class:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:ring-amber-500 focus:border-amber-500"},null,8,xe),[[i,a.value.password]])]),t("div",null,[e[45]||(e[45]=t("label",{class:"block text-sm font-medium text-gray-300 mb-1"},"Encryption",-1)),o(t("select",{"onUpdate:modelValue":e[11]||(e[11]=s=>a.value.encryption=s),class:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white focus:ring-amber-500 focus:border-amber-500"},[...e[44]||(e[44]=[t("option",{value:"tls"},"TLS",-1),t("option",{value:"ssl"},"SSL",-1),t("option",{value:"null"},"None",-1)])],512),[[q,a.value.encryption]])])])])):g("",!0),t("div",ve,[t("div",null,[e[47]||(e[47]=t("label",{class:"block text-sm font-medium text-gray-300 mb-1"},"From Address *",-1)),o(t("input",{"onUpdate:modelValue":e[12]||(e[12]=s=>a.value.from_address=s),type:"email",required:"",placeholder:"noreply@yourdomain.com",class:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:ring-amber-500 focus:border-amber-500"},null,512),[[i,a.value.from_address]])]),t("div",null,[e[48]||(e[48]=t("label",{class:"block text-sm font-medium text-gray-300 mb-1"},"From Name *",-1)),o(t("input",{"onUpdate:modelValue":e[13]||(e[13]=s=>a.value.from_name=s),type:"text",required:"",placeholder:"OpenPBBG",class:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:ring-amber-500 focus:border-amber-500"},null,512),[[i,a.value.from_name]])])]),t("div",fe,[e[50]||(e[50]=t("div",null,[t("h4",{class:"text-white font-medium"},"Enable Email System"),t("p",{class:"text-sm text-gray-400"},"When enabled, emails will be sent for registration, password reset, etc.")],-1)),t("label",we,[o(t("input",{type:"checkbox","onUpdate:modelValue":e[14]||(e[14]=s=>a.value.is_active=s),class:"sr-only peer"},null,512),[[z,a.value.is_active]]),e[49]||(e[49]=t("div",{class:"w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-amber-500 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-amber-500"},null,-1))])]),a.value.last_tested_at?(p(),m("div",he,[t("span",{class:E(a.value.test_successful?"text-green-400":"text-red-400")},b(a.value.test_successful?"✓ Last test successful":"✗ Last test failed"),3),t("span",ke,"("+b(new Date(a.value.last_tested_at).toLocaleString())+")",1)])):g("",!0),t("div",_e,[t("button",{type:"submit",disabled:h.value,class:"px-4 py-2 bg-amber-500 text-black font-medium rounded-md hover:bg-amber-600 disabled:opacity-50"},b(h.value?"Saving...":"Save Settings"),9,Te),t("button",{type:"button",onClick:e[15]||(e[15]=s=>C.value=!0),disabled:!a.value.id,class:"px-4 py-2 bg-gray-600 text-white font-medium rounded-md hover:bg-gray-500 disabled:opacity-50"}," Send Test Email ",8,Se)])],32)])):g("",!0),x.value==="templates"?(p(),m("div",Ce,[t("div",Ue,[t("button",{onClick:R,disabled:_.value,class:"px-4 py-2 bg-gray-600 text-white text-sm font-medium rounded-md hover:bg-gray-500 disabled:opacity-50"},b(_.value?"Creating...":"Create Default Templates"),9,Ve),t("button",{onClick:e[16]||(e[16]=s=>N()),class:"px-4 py-2 bg-amber-500 text-black text-sm font-medium rounded-md hover:bg-amber-600"}," + New Template ")]),t("div",$e,[t("table",je,[e[52]||(e[52]=t("thead",{class:"bg-gray-900"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase"},"Name"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase"},"Slug"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase"},"Subject"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase"},"Status"),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase"},"Actions")])],-1)),t("tbody",Ee,[(p(!0),m(Q,null,Z(D.value,s=>(p(),m("tr",{key:s.id,class:"hover:bg-gray-700"},[t("td",Me,b(s.name),1),t("td",Pe,b(s.slug),1),t("td",De,b(s.subject),1),t("td",Fe,[t("span",{class:E([s.is_active?"bg-green-900 text-green-300":"bg-red-900 text-red-300","px-2 py-1 text-xs rounded-full"])},b(s.is_active?"Active":"Inactive"),3)]),t("td",Ae,[t("button",{onClick:B=>G(s),class:"text-blue-400 hover:text-blue-300 text-sm"},"Preview",8,Ne),t("button",{onClick:B=>N(s),class:"text-amber-400 hover:text-amber-300 text-sm"},"Edit",8,Be),t("button",{onClick:B=>X(s),class:"text-red-400 hover:text-red-300 text-sm"},"Delete",8,Le)])]))),128)),D.value.length===0?(p(),m("tr",qe,[...e[51]||(e[51]=[t("td",{colspan:"5",class:"px-4 py-8 text-center text-gray-400"},' No templates found. Click "Create Default Templates" to get started. ',-1)])])):g("",!0)])])])])):g("",!0),C.value?(p(),m("div",ze,[t("div",Ie,[e[54]||(e[54]=t("h3",{class:"text-lg font-medium text-white mb-4"},"Send Test Email",-1)),t("div",We,[e[53]||(e[53]=t("label",{class:"block text-sm font-medium text-gray-300 mb-1"},"Email Address",-1)),o(t("input",{"onUpdate:modelValue":e[17]||(e[17]=s=>v.value=s),type:"email",placeholder:"test@example.com",class:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:ring-amber-500 focus:border-amber-500"},null,512),[[i,v.value]])]),t("div",Oe,[t("button",{onClick:e[18]||(e[18]=s=>C.value=!1),class:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-500"},"Cancel"),t("button",{onClick:O,disabled:k.value,class:"px-4 py-2 bg-amber-500 text-black rounded-md hover:bg-amber-600 disabled:opacity-50"},b(k.value?"Sending...":"Send Test"),9,Re)])])])):g("",!0),U.value?(p(),m("div",He,[t("div",Ge,[t("h3",Ke,b(d.value.id?"Edit Template":"New Template"),1),t("form",{onSubmit:I(H,["prevent"]),class:"space-y-4"},[t("div",Xe,[t("div",null,[e[55]||(e[55]=t("label",{class:"block text-sm font-medium text-gray-300 mb-1"},"Name *",-1)),o(t("input",{"onUpdate:modelValue":e[19]||(e[19]=s=>d.value.name=s),type:"text",required:"",placeholder:"Welcome Email",class:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:ring-amber-500 focus:border-amber-500"},null,512),[[i,d.value.name]])]),t("div",null,[e[56]||(e[56]=t("label",{class:"block text-sm font-medium text-gray-300 mb-1"},"Slug *",-1)),o(t("input",{"onUpdate:modelValue":e[20]||(e[20]=s=>d.value.slug=s),type:"text",required:"",placeholder:"welcome",class:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:ring-amber-500 focus:border-amber-500"},null,512),[[i,d.value.slug]])])]),t("div",null,[e[57]||(e[57]=t("label",{class:"block text-sm font-medium text-gray-300 mb-1"},"Subject *",-1)),o(t("input",{"onUpdate:modelValue":e[21]||(e[21]=s=>d.value.subject=s),type:"text",required:"",placeholder:"Welcome to {{app_name}}, {{username}}!",class:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:ring-amber-500 focus:border-amber-500"},null,512),[[i,d.value.subject]])]),t("div",null,[e[58]||(e[58]=t("label",{class:"block text-sm font-medium text-gray-300 mb-1"},"Description",-1)),o(t("input",{"onUpdate:modelValue":e[22]||(e[22]=s=>d.value.description=s),type:"text",placeholder:"When is this email sent?",class:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:ring-amber-500 focus:border-amber-500"},null,512),[[i,d.value.description]])]),t("div",null,[e[60]||(e[60]=t("label",{class:"block text-sm font-medium text-gray-300 mb-1"},[w("Available Variables "),t("span",{class:"text-gray-500 font-normal"},"(comma separated)")],-1)),o(t("input",{"onUpdate:modelValue":e[23]||(e[23]=s=>A.value=s),type:"text",placeholder:"app_name, username, email",class:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:ring-amber-500 focus:border-amber-500"},null,512),[[i,A.value]]),t("p",Ye,[e[59]||(e[59]=w("Use variables in templates like: ",-1)),t("code",Je,b(l.username),1)])]),t("div",null,[e[61]||(e[61]=t("label",{class:"block text-sm font-medium text-gray-300 mb-1"},"HTML Body *",-1)),o(t("textarea",{"onUpdate:modelValue":e[24]||(e[24]=s=>d.value.body_html=s),required:"",rows:"12",placeholder:"<!DOCTYPE html>...",class:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:ring-amber-500 focus:border-amber-500 font-mono text-sm"},null,512),[[i,d.value.body_html]])]),t("div",null,[e[62]||(e[62]=t("label",{class:"block text-sm font-medium text-gray-300 mb-1"},"Plain Text Body (optional)",-1)),o(t("textarea",{"onUpdate:modelValue":e[25]||(e[25]=s=>d.value.body_text=s),rows:"4",placeholder:"Plain text version...",class:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:ring-amber-500 focus:border-amber-500"},null,512),[[i,d.value.body_text]])]),t("div",Qe,[t("label",Ze,[o(t("input",{type:"checkbox","onUpdate:modelValue":e[26]||(e[26]=s=>d.value.is_active=s),class:"sr-only peer"},null,512),[[z,d.value.is_active]]),e[63]||(e[63]=t("div",{class:"w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-amber-500 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-amber-500"},null,-1)),e[64]||(e[64]=t("span",{class:"ml-3 text-sm text-gray-300"},"Active",-1))])]),t("div",et,[t("button",{type:"button",onClick:e[27]||(e[27]=s=>U.value=!1),class:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-500"},"Cancel"),t("button",{type:"submit",disabled:T.value,class:"px-4 py-2 bg-amber-500 text-black rounded-md hover:bg-amber-600 disabled:opacity-50"},b(T.value?"Saving...":"Save Template"),9,tt)])],32)])])):g("",!0),M.value?(p(),m("div",st,[t("div",at,[t("div",lt,[e[66]||(e[66]=t("h3",{class:"text-lg font-medium text-white"},"Template Preview",-1)),t("button",{onClick:e[28]||(e[28]=s=>M.value=!1),class:"text-gray-400 hover:text-white"},[...e[65]||(e[65]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("div",rt,[e[67]||(e[67]=t("strong",null,"Subject:",-1)),w(" "+b((r=$.value)==null?void 0:r.subject),1)]),t("div",ot,[(n=$.value)!=null&&n.body_html?(p(),m("iframe",{key:0,srcdoc:$.value.body_html,class:"w-full h-full min-h-[500px]",sandbox:"allow-same-origin"},null,8,dt)):g("",!0)]),t("div",nt,[t("button",{onClick:e[29]||(e[29]=s=>V.value=!0),class:"px-4 py-2 bg-amber-500 text-black rounded-md hover:bg-amber-600"},"Send Test Email")])])])):g("",!0),V.value?(p(),m("div",it,[t("div",ut,[e[69]||(e[69]=t("h3",{class:"text-lg font-medium text-white mb-4"},"Send Test Email",-1)),t("div",mt,[e[68]||(e[68]=t("label",{class:"block text-sm font-medium text-gray-300 mb-1"},"Email Address",-1)),o(t("input",{"onUpdate:modelValue":e[30]||(e[30]=s=>f.value=s),type:"email",placeholder:"test@example.com",class:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:ring-amber-500 focus:border-amber-500"},null,512),[[i,f.value]])]),t("div",pt,[t("button",{onClick:e[31]||(e[31]=s=>V.value=!1),class:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-500"},"Cancel"),t("button",{onClick:K,disabled:S.value,class:"px-4 py-2 bg-amber-500 text-black rounded-md hover:bg-amber-600 disabled:opacity-50"},b(S.value?"Sending...":"Send"),9,bt)])])])):g("",!0)])}}};export{yt as default};
