import{o,h as r,a as e,_ as Y,Y as O,e as X,b as v,z as p,d as D,F as A,i as F,G as ee,k as d,v as x,s as te,t as i,l as T,c as U,D as le,j as se,m as R,K as z,J as ae,x as C,g as u,q as oe,y as re,n as S,U as ne,Z as ie,I as de,$ as ue,a0 as ce,E as pe}from"./index-C4YYZO6H.js";import{r as me}from"./PlusIcon-oAOmSjuX.js";import{r as j}from"./CubeIcon-CUXkOnJp.js";import{r as ve}from"./CheckCircleIcon-tmHoli13.js";import{r as be}from"./PencilIcon-CXcmDcXM.js";function xe(N,m){return o(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"})])}function fe(N,m){return o(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}const ge={class:"space-y-6"},ye={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},he={class:"flex flex-wrap gap-2"},_e=["onClick"],we={class:"relative max-w-md"},ke={key:0,class:"rounded-2xl bg-slate-800/50 backdrop-blur border border-slate-700/50 p-6"},Ce={key:1,class:"rounded-2xl bg-slate-800/50 backdrop-blur border border-slate-700/50 overflow-hidden"},Ie={class:"overflow-x-auto"},$e={class:"w-full"},Ve={class:"divide-y divide-slate-700/50"},Me={class:"px-6 py-4"},Te={class:"flex items-center gap-3"},Ue={class:"w-12 h-12 rounded-lg bg-slate-700/50 border border-slate-600/50 flex items-center justify-center overflow-hidden"},Se=["src","alt"],je={class:"text-sm font-medium text-white"},Ne={class:"text-xs text-slate-400 truncate max-w-[200px]"},Le={class:"px-6 py-4"},qe={class:"px-6 py-4 text-sm text-emerald-400 font-medium"},Be={class:"px-6 py-4 text-sm text-slate-300"},Pe={class:"px-6 py-4"},De={key:0,class:"inline-flex items-center gap-1 text-emerald-400"},Ae={key:1,class:"inline-flex items-center gap-1 text-slate-500"},Fe={class:"px-6 py-4"},Re={key:0,class:"text-xs text-slate-300"},ze={key:1,class:"text-slate-500"},Ee={class:"px-6 py-4"},Ze={class:"flex items-center justify-center gap-2"},He=["onClick"],We=["onClick"],Ge={key:0},Je={colspan:"7",class:"px-6 py-12 text-center text-slate-400"},Ke={key:0,class:"px-6 py-4 border-t border-slate-700/50 flex items-center justify-between"},Qe={class:"text-sm text-slate-400"},Ye={class:"flex items-center gap-2"},Oe=["disabled"],Xe=["disabled"],et={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},tt={class:"flex items-center justify-center min-h-screen p-4"},lt={class:"relative bg-slate-800 border border-slate-700 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"},st={class:"sticky top-0 bg-slate-800 border-b border-slate-700 p-6 flex items-center justify-between"},at={class:"text-xl font-bold text-white"},ot={class:"form-grid"},rt={class:"form-group full-width"},nt={class:"form-group full-width"},it={class:"form-group"},dt={class:"form-group"},ut={class:"form-group"},ct={class:"form-group"},pt={class:"form-group"},mt={class:"form-group"},vt={class:"form-group"},bt={class:"checkbox-wrapper"},xt={class:"form-group"},ft={class:"checkbox-wrapper"},gt={class:"flex justify-end gap-3 mt-6 pt-6 border-t border-slate-700"},yt=["disabled"],ht={__name:"ItemsView",setup(N){const m=re(),E=[{value:"all",label:"All Items",icon:j},{value:"weapon",label:"Weapons",icon:ie},{value:"armor",label:"Armor",icon:de},{value:"consumable",label:"Consumables",icon:ue},{value:"collectible",label:"Collectibles",icon:ce},{value:"misc",label:"Miscellaneous",icon:xe}],c=u("all"),I=u([]),g=u([]),$=u(!1),f=u(""),y=u(!1),b=u(null),h=u(!1),n=u(null),V=u(1),M={name:"",type:"misc",description:"",image:"",price:0,sell_price:0,tradeable:!0,stackable:!1,max_stack:1,rarity:"common"},a=u({...M}),L=oe(()=>{let s=I.value;if(c.value!=="all"&&(s=s.filter(t=>t.type===c.value)),f.value){const t=f.value.toLowerCase();s=s.filter(l=>l.name.toLowerCase().includes(t)||l.description&&l.description.toLowerCase().includes(t))}return s}),Z=s=>s==="all"?g.value.length:g.value.filter(t=>t.type===s).length,_=async(s=1)=>{$.value=!0;try{const t={page:s,per_page:100},l=await C.get("/admin/items",{params:t});l.data.data?(I.value=l.data.data,g.value=l.data.data,n.value={current_page:l.data.current_page,last_page:l.data.last_page,total:l.data.total,per_page:l.data.per_page||100}):(I.value=l.data,g.value=l.data)}catch(t){m.error("Failed to load items"),console.error(t)}finally{$.value=!1}};let q=null;const H=()=>{clearTimeout(q),q=setTimeout(()=>{},300)},W=()=>{b.value=null,a.value={...M,type:c.value!=="all"?c.value:"misc"},y.value=!0},G=s=>{b.value=s,a.value={...s},y.value=!0},w=()=>{y.value=!1,b.value=null,a.value={...M}},J=async()=>{var s,t;h.value=!0;try{b.value?(await C.patch(`/admin/items/${b.value.id}`,a.value),m.success("Item updated successfully!")):(await C.post("/admin/items",a.value),m.success("Item created successfully!")),w(),_(V.value)}catch(l){m.error(((t=(s=l.response)==null?void 0:s.data)==null?void 0:t.message)||"Failed to save item")}finally{h.value=!1}},K=async s=>{var t,l;if(confirm(`Are you sure you want to delete "${s.name}"? This cannot be undone.`))try{await C.delete(`/admin/items/${s.id}`),m.success("Item deleted successfully!"),_(V.value)}catch(k){m.error(((l=(t=k.response)==null?void 0:t.data)==null?void 0:l.message)||"Failed to delete item")}},B=s=>{V.value=s,_(s)},P=s=>(s==null?void 0:s.toLocaleString())||"0",Q=s=>{const t={common:"bg-slate-500/20 text-slate-300",uncommon:"bg-emerald-500/20 text-emerald-400",rare:"bg-blue-500/20 text-blue-400",epic:"bg-purple-500/20 text-purple-400",legendary:"bg-amber-500/20 text-amber-400"};return t[s]||t.common};return O(c,()=>{f.value=""}),X(()=>{_()}),(s,t)=>(o(),r("div",ge,[e("div",ye,[t[14]||(t[14]=e("div",null,[e("h1",{class:"text-2xl font-bold text-white"},"Item Management"),e("p",{class:"text-slate-400 mt-1"},"Manage game items by category")],-1)),e("button",{onClick:W,class:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-gradient-to-r from-amber-500 to-orange-600 text-white font-medium hover:from-amber-600 hover:to-orange-700 transition-all shadow-lg shadow-amber-500/25"},[v(p(me),{class:"w-5 h-5"}),t[13]||(t[13]=D(" Create Item ",-1))])]),e("div",he,[(o(),r(A,null,F(E,l=>e("button",{key:l.value,onClick:k=>c.value=l.value,class:S(["px-4 py-2.5 rounded-xl font-medium transition-all flex items-center gap-2",c.value===l.value?"bg-gradient-to-r from-amber-500 to-orange-600 text-white shadow-lg shadow-amber-500/25":"bg-slate-800/50 text-slate-300 hover:bg-slate-700/50 border border-slate-700/50"])},[(o(),U(ne(l.icon),{class:"w-5 h-5"})),D(" "+i(l.label)+" ",1),e("span",{class:S(["px-2 py-0.5 rounded-full text-xs font-semibold",c.value===l.value?"bg-white/20":"bg-slate-700"])},i(Z(l.value)),3)],10,_e)),64))]),e("div",we,[v(p(ee),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),d(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>f.value=l),onInput:H,type:"text",placeholder:"Search items...",class:"w-full pl-10 pr-4 py-3 bg-slate-800/50 border border-slate-700/50 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500/50 transition-all"},null,544),[[x,f.value]])]),$.value?(o(),r("div",ke,[...t[15]||(t[15]=[te('<div class="animate-pulse space-y-4" data-v-fb85a701><div class="h-10 bg-slate-700/50 rounded-lg w-full" data-v-fb85a701></div><div class="h-16 bg-slate-700/50 rounded-lg w-full" data-v-fb85a701></div><div class="h-16 bg-slate-700/50 rounded-lg w-full" data-v-fb85a701></div><div class="h-16 bg-slate-700/50 rounded-lg w-full" data-v-fb85a701></div></div>',1)])])):(o(),r("div",Ce,[e("div",Ie,[e("table",$e,[t[16]||(t[16]=e("thead",{class:"bg-slate-700/50 border-b border-slate-600/50"},[e("tr",null,[e("th",{class:"px-6 py-4 text-left text-sm font-semibold text-slate-300"},"Item"),e("th",{class:"px-6 py-4 text-left text-sm font-semibold text-slate-300"},"Rarity"),e("th",{class:"px-6 py-4 text-left text-sm font-semibold text-slate-300"},"Price"),e("th",{class:"px-6 py-4 text-left text-sm font-semibold text-slate-300"},"Sell Price"),e("th",{class:"px-6 py-4 text-left text-sm font-semibold text-slate-300"},"Tradeable"),e("th",{class:"px-6 py-4 text-left text-sm font-semibold text-slate-300"},"Stackable"),e("th",{class:"px-6 py-4 text-center text-sm font-semibold text-slate-300"},"Actions")])],-1)),e("tbody",Ve,[(o(!0),r(A,null,F(L.value,l=>(o(),r("tr",{key:l.id,class:"hover:bg-slate-700/25 transition-colors"},[e("td",Me,[e("div",Te,[e("div",Ue,[l.image?(o(),r("img",{key:0,src:l.image,alt:l.name,class:"w-full h-full object-cover"},null,8,Se)):(o(),U(p(j),{key:1,class:"w-6 h-6 text-slate-500"}))]),e("div",null,[e("p",je,i(l.name),1),e("p",Ne,i(l.description),1)])])]),e("td",Le,[e("span",{class:S([Q(l.rarity),"px-2.5 py-1 rounded-lg text-xs font-semibold capitalize"])},i(l.rarity),3)]),e("td",qe,"$"+i(P(l.price)),1),e("td",Be,"$"+i(P(l.sell_price||0)),1),e("td",Pe,[l.tradeable?(o(),r("span",De,[v(p(ve),{class:"w-5 h-5"})])):(o(),r("span",Ae,[v(p(fe),{class:"w-5 h-5"})]))]),e("td",Fe,[l.stackable?(o(),r("span",Re," Max: "+i(l.max_stack||1),1)):(o(),r("span",ze,"â€”"))]),e("td",Ee,[e("div",Ze,[e("button",{onClick:k=>G(l),class:"p-2 rounded-lg bg-amber-500/20 text-amber-400 hover:bg-amber-500/30 transition-colors"},[v(p(be),{class:"w-4 h-4"})],8,He),e("button",{onClick:k=>K(l),class:"p-2 rounded-lg bg-red-500/20 text-red-400 hover:bg-red-500/30 transition-colors"},[v(p(pe),{class:"w-4 h-4"})],8,We)])])]))),128)),L.value.length?T("",!0):(o(),r("tr",Ge,[e("td",Je,[v(p(j),{class:"w-12 h-12 mx-auto mb-3 opacity-50"}),e("p",null,"No "+i(c.value==="all"?"items":c.value+" items")+" found",1)])]))])])]),n.value&&n.value.last_page>1?(o(),r("div",Ke,[e("p",Qe," Showing "+i((n.value.current_page-1)*n.value.per_page+1)+" to "+i(Math.min(n.value.current_page*n.value.per_page,n.value.total))+" of "+i(n.value.total)+" items ",1),e("div",Ye,[e("button",{onClick:t[1]||(t[1]=l=>B(n.value.current_page-1)),disabled:n.value.current_page<=1,class:"px-3 py-1.5 rounded-lg bg-slate-700/50 text-slate-300 hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed"}," Previous ",8,Oe),e("button",{onClick:t[2]||(t[2]=l=>B(n.value.current_page+1)),disabled:n.value.current_page>=n.value.last_page,class:"px-3 py-1.5 rounded-lg bg-slate-700/50 text-slate-300 hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed"}," Next ",8,Xe)])])):T("",!0)])),(o(),U(ae,{to:"body"},[y.value?(o(),r("div",et,[e("div",tt,[e("div",{class:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:w}),e("div",lt,[e("div",st,[e("h2",at,i(b.value?"Edit":"Create")+" Item",1),e("button",{onClick:w,class:"text-slate-400 hover:text-white transition-colors"},[v(p(le),{class:"w-6 h-6"})])]),e("form",{onSubmit:se(J,["prevent"]),class:"p-6"},[e("div",ot,[e("div",rt,[t[17]||(t[17]=e("label",null,"Name *",-1)),d(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>a.value.name=l),type:"text",required:"",placeholder:"e.g. Bulletproof Vest"},null,512),[[x,a.value.name]])]),e("div",nt,[t[18]||(t[18]=e("label",null,"Description *",-1)),d(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=l=>a.value.description=l),required:"",rows:"3",placeholder:"Item description..."},null,512),[[x,a.value.description]])]),e("div",it,[t[20]||(t[20]=e("label",null,"Type *",-1)),d(e("select",{"onUpdate:modelValue":t[5]||(t[5]=l=>a.value.type=l),required:""},[...t[19]||(t[19]=[e("option",{value:"weapon"},"Weapon",-1),e("option",{value:"armor"},"Armor",-1),e("option",{value:"consumable"},"Consumable",-1),e("option",{value:"collectible"},"Collectible",-1),e("option",{value:"misc"},"Miscellaneous",-1)])],512),[[R,a.value.type]])]),e("div",dt,[t[22]||(t[22]=e("label",null,"Rarity *",-1)),d(e("select",{"onUpdate:modelValue":t[6]||(t[6]=l=>a.value.rarity=l),required:""},[...t[21]||(t[21]=[e("option",{value:"common"},"Common",-1),e("option",{value:"uncommon"},"Uncommon",-1),e("option",{value:"rare"},"Rare",-1),e("option",{value:"epic"},"Epic",-1),e("option",{value:"legendary"},"Legendary",-1)])],512),[[R,a.value.rarity]])]),e("div",ut,[t[23]||(t[23]=e("label",null,"Price *",-1)),d(e("input",{"onUpdate:modelValue":t[7]||(t[7]=l=>a.value.price=l),type:"number",min:"0",required:""},null,512),[[x,a.value.price,void 0,{number:!0}]])]),e("div",ct,[t[24]||(t[24]=e("label",null,"Sell Price",-1)),d(e("input",{"onUpdate:modelValue":t[8]||(t[8]=l=>a.value.sell_price=l),type:"number",min:"0"},null,512),[[x,a.value.sell_price,void 0,{number:!0}]])]),e("div",pt,[t[25]||(t[25]=e("label",null,"Max Stack",-1)),d(e("input",{"onUpdate:modelValue":t[9]||(t[9]=l=>a.value.max_stack=l),type:"number",min:"1"},null,512),[[x,a.value.max_stack,void 0,{number:!0}]])]),e("div",mt,[t[26]||(t[26]=e("label",null,"Image URL",-1)),d(e("input",{"onUpdate:modelValue":t[10]||(t[10]=l=>a.value.image=l),type:"text",placeholder:"https://..."},null,512),[[x,a.value.image]])]),e("div",vt,[e("div",bt,[d(e("input",{"onUpdate:modelValue":t[11]||(t[11]=l=>a.value.tradeable=l),type:"checkbox",id:"tradeable-checkbox"},null,512),[[z,a.value.tradeable]]),t[27]||(t[27]=e("label",{for:"tradeable-checkbox"},"Tradeable",-1))])]),e("div",xt,[e("div",ft,[d(e("input",{"onUpdate:modelValue":t[12]||(t[12]=l=>a.value.stackable=l),type:"checkbox",id:"stackable-checkbox"},null,512),[[z,a.value.stackable]]),t[28]||(t[28]=e("label",{for:"stackable-checkbox"},"Stackable",-1))])])]),e("div",gt,[e("button",{type:"button",onClick:w,class:"px-4 py-2 rounded-lg bg-slate-700 text-slate-300 hover:bg-slate-600 transition-colors"}," Cancel "),e("button",{type:"submit",disabled:h.value,class:"px-4 py-2 rounded-lg bg-gradient-to-r from-amber-500 to-orange-600 text-white font-medium hover:from-amber-600 hover:to-orange-700 transition-all disabled:opacity-50"},i(h.value?"Saving...":b.value?"Update":"Create"),9,yt)])],32)])])])):T("",!0)]))]))}},$t=Y(ht,[["__scopeId","data-v-fb85a701"]]);export{$t as default};
